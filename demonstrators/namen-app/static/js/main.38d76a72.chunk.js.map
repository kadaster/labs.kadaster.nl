{"version":3,"sources":["assets/GoldMarker.png","assets/Logo-kadaster.png","assets/marker-shadow.png","network/ProcessorMethods.js","routes/pages/StartScreen.js","model/Observable.js","model/Resultaat.js","routes/pages/ResultScreen.js","model/ClusterObject.js","network/Communicators/CommunicatorSPARQL.js","network/Communicators/CommunicatorELASTICSEARCH.js","network/Communicators/ClickedCommunicator.js","network/Communicator.js","routes/pages/ObjectScreen.js","routes/Routes.js","components/NavBar.js","components/Loader.js","model/ResultatenHouder.js","model/ClickedResultaat.js","components/Icons.js","components/ContextMenu.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","worker","latestString","StartScreen","className","href","target","rel","React","Component","Observable","this","_subscribers","map","subscriber","update","push","filter","subscriberList","Resultaat","url","naam","type","geoJson","color","objectClass","_url","_naam","_type","_geoJson","_color","_objectClass","_onHoverDef","undefined","_onHoverOffDef","geojson","updateSubscribers","properties","geometry","func","ResultScreen","elements","props","res","getClickedCluster","getValues","getRightClickedRes","length","getResults","pElementHoofd","pElementSub","getNaam","getType","getColor","getHexFromColor","style","String","fromCharCode","key","getUrl","onClick","onClickItem","onMouseEnter","_onHover","onMouseLeave","_onHoverOff","ClusterObject","geoJSON","values","_values","getAsFeature","classes","getIndexOfClasses","indexOf","sortByObjectClass","list","sort","a","b","getObjectClass","firstLetterCapital","text","toLowerCase","split","s","startsWith","charAt","toUpperCase","substring","join","stripUrlToType","replace","seperateUpperCase","string","forEach","index","arr","slice","sortByGeoMetryAndName","searchString","naama","value","naamb","includes","aGeo","wktJson","bGeo","clusterObjects","setMethod","window","Worker","postMessage","onmessage","data","results","resultaat","clusters","concat","bringExactNameToFront","Map","i","has","get","set","splice","clusterMap","mapCounter","eerste","shift","cluster","j","turf","getGeoJson","features","first","geo","x","processSearchScreenResults","returnObject","bindings","valueMap","fO","brugnaam","tunnelnaam","sluisnaam","knooppuntnaam","offnaam","naamFries","naamNl","indexes","wellKnown","resultaatObj","processGetAllAttributes","clickedRes","naamOfficieel","burgNaam","tunnelNaam","knoopPuntNaam","sluisNaam","nodes","types","overigeAttributen","prd","obj","formattedKey","unshift","feature","getRes","area","Math","round","toString","loadInAttributes","getMatch","setResFromOutside","isExactMatch","match","queryEndpoint","query","exactMatch","status","makeSearchScreenResults","JSON","parse","nameQueryForRegexMatch","result","mergeResults","getAllAttribtes","endpointurl","sub","queryBetterForType","exact","regex","resexact","resregex","fetch","method","headers","body","queryString","exactvalues","uris","getFromCoordinates","lat","long","top","left","bottom","right","queryTriply","queryForCoordinatesNonStreets","nonstreets","stop","sbottom","sright","sleft","queryForCoordinatesStreets","streets","PreProcessor","righ","labsURL","queryESDLK","hits","_id","pdokURL","latestMethod","CommunicatorSPARQL","CommunicatorELASTICSEARCH","ClickedCommunicator","ObjectScreen","getNamenGegevens","Communicator","clickedResult","then","setState","state","tableNamen","tableRest","naamOfficeel","getTunnelNaam","getKnooppuntNaam","getBrugNaam","getSluisNaam","getTypeString","getNaamFries","getNaamOfficieel","getNaamNl","attributes","getAttributes","Routes","router2","path","render","component","EmptyBar","class_","loading","BackButton","onBack","float","aantalZoekResultaten","NavBar","Loader","width","height","ResultatenHouder","_results","_rightClickedResults","_clickedResult","_clickedCluster","clickedCluster","unsubscribe","subscribe","clicked","isShownClickedResults","ClickedResultaat","overige","brugNaam","knooppuntNaam","_res","_naamOfficieel","_naamNL","_naamFries","_brugNaam","_tunnelNaam","_sluisNaam","_knoopPuntNaam","_types","_overige","naamnl","naamfries","Icons","L","Icon","Default","iconUrl","MarkerGold","iconRetinaUrl","imagePath","shadowUrl","MarkerShadow","DefaultIcon","ContextMenu","updateWindowDimensions","widthPage","innerWidth","heightPage","innerHeight","resOnClick","resetCoordinates","updateWindowDimensionsDebounce","_","debounce","addEventListener","removeEventListener","prevProps","prevState","snapshot","yMenu","div","clientHeight","xMenu","clientWidth","myStyle","coordinates","y","position","display","objectsOverLayedOnMap","head","subColor","ref","onContextMenu","e","preventDefault","App","mapInit","minZoom","center","zoom","maxBounds","tileLayer","attribution","addTo","on","handleRightMouseClick","doubleClickZoom","disable","geoJsonLayer","onEachFeature","handleGeoJsonLayerDrawing","pointToLayer","addMarker","getStyle","markerGroup","featureGroup","clickedOnLayeredMap","console","log","latLong","latlng","closePopup","popup","matchPath","location","pathname","strict","clearAll","history","goBack","isFetching","searchQuery","bounds","getBounds","lng","getNorth","getWest","getSouth","getEast","updateIng","setDoubleResults","marker","bindPopup","autoPan","closeButton","onHover","openPopup","setIcon","bind","onHoverOff","_setOnHover","_setOnHoverOff","getAllGeoJsonObjectContainingPoint","getClickedResult","getValuesAsFeatures","getClickedAllObjectsAsFeature","getSearchedAllObjectsAsFeature","col","inside","layer","getCenterGeoJson","contains","content","reverse","setLatLng","setContent","openOn","throttle","getContent","options","originalEvent","pageX","pageY","resetClickedOnLayeredMap","setClickedCluster","setClickedResult","getZoom","setView","centroid","geoJsonFeature","lon","isInside","onSearchChange","clearClickedResult","clearDoubleResults","clearClickedCluster","debounceDoSearch","doSearch","match2","go","trim","currentSelected","setResults","handleDeleteClick","handleOnBackButtonClick","updateMapDebounce","updateMap","dropDownSelector","v","isRightClick","clearLayers","addData","geoJsonResults","onFocus","getZoekResultatenAantal","gearIcon","icon","description","Dropdown","upward","Menu","Header","Divider","option","Item","active","name","link","to","src","KadasterImg","alt","Search","input","fluid","noResultsMessage","open","id","withRouter","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.38d76a72.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAYAAAAWy4frAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAAOYklEQVR4XtWb+8tlVRnHzxAhwxASIjHIEDJERERERET0Qz/2HwSBBRFlWNlNLCsms2IGsZuU3UO0UkQzRSy7iNjNRCvFuTjOqIWpWdZo6XiZ1fP5rvVd7zrrXed9z3vO6YcOfN1rP3vt53m+z2Xttfe8TlJKK8Miv5GeRTAULor+94/fTfYEPh/YG9hXxPU30rEohsJFcP77J+mOqyfpn7dNTgSeC8fTsdsniSN49FcZ/7kzg7nfuoBbx/q2iqFwXnzug5N0+CeT9OAvs7NP3pGdf+w3+fjMXTFt/wtSOviilA6cBMn00C35OvMZQ+4vN0/Svo+gcmxnHgyFm+HsMxR5OYEzjE/cE5cOvTil+16R0v1vCLwxpaOvLePX57HOy/jwLpFzpp7+4yTd//NJ+sSZmBjb3QhD4Ua4+7rs+JGbctTl0JFXhnOvWwMkIHD0NdnxCkiZmOfHnEOnKJvO5B+umaT3vBVzYx9GGApHuPCctTJ4+NYQHTw5pQfenEnIyXD+yKuD2O6U7j0tEwThZDp0ashe0shjDnMrQYgHogQpU3oIUj+8CNNjf3oMhT2u+lKuaRGIcpATD7wpHymT+16enZSzOwsY53PuFQHN4Vo5QhBSlKOIlXI88EIRInDXX4ILY79aDIUt7rl+kg7dmInIsOv8yKvCgZeFQ3beTvo8jmSjEhrB88nUS3NAnKWQe0H407W4MvbPGAqN314xSRAh1YooJJSBiKAi3DkE0VpGnWzqWoNKNuajE93YIFBxDhmyQ0n3/rUYCsFPv52zUEmoecMAkZMDA+emzh3tAdp763zkhdTh00upRWai9FjRILJRZobC73w2r0qktTYmgBBNzjIr4+Gsm3nKIc6Rxzxf07lhWY+4Zv3OjsjkzODT9y/ExfU+rxN86B2ZvVKJUpVSaeYpRzjiaAtfb2To6FHnoqfMqbJyH2MCpaU9fIgAsZJB5uPvxtVpv6dOACvFgRtieGD7VK2uKS8lUJ0qxnsnlR2aOO4FWgycrXZ+q4t7+yDFOc8bCMWKSZXw4Oz9njq56Ny85MFcBLiZnkAZ2wwrb53wuZwvDUuNe1k10MURuYhBCn3oaPW0NrBZrpV+wT/K7LJ9uDyDCKsDqUsHd+QbWV6lNBQKvSEQczlCghJ0PwGe2pBCD4HhXNcIEIQiSL6/tyNApAQRHWWxISOqmsb3OvjxV/NFtgoy5mdEddZGPC7yeHjlBYESDMdwPGTowSBgtSFIyjTzIQ0piLts5XQceeC2RwN7JavP3Z2fbb/4Hq53RHheqPYUWUrA0TIBO8+xyDGgqFNGmbhXu9uvymWKTghAhJ0yezXG6kFsEAAIydkSGI+xxzzbps+YH1liMcLnKSLsOLlA7SkbOEZKqxIDIo1yoqmo7tZGEqelnGg+8uGUjl2R0jNHU3ru8ZSevCmlxz6jIDGP9xE9o7Qykc3QJf1BQERCP3ZkK+SWlazgK3o+9V4oFCI3fN0rVURDjrXZaI/NmCYkcwF2rERa/fXQ28Pxv6M8fs+XIz/GgRNPBaG9cgKbKjf1UeiClPQX4I9sOoARIGdx/zZlmJaIXyaCQmou13iA3uAmlDgqnFtGdJSNMB4y7kVpOnYNSsPZ4/nI7/l/52MlFz/IHN+vTShbdr18KYBBCAJ+GZN97Bb7bQDDT5dq/DIRHKGepYxaVzQa54lMeyRylF8cUaZs/vXMcPBZlOYf45bQul9k5/GvrTmDTWWFIGKnt092SlmXxYV2UBVAhBpjVdFrqZfK6nhRQoSkuChU5nbrrVA9gROKOKVTyDgT/MiAjh05xrGHY3OqEiv9VrPS2nV1IMN++MnKiH04TC7Z4wa1g1EyMWaJq0qUahSVMcaCNKWhbDx6XnjV90P8aobaa+VnclGO9ItKE9uVyLaw50DGOGR6nWYs+/h5knz/xvlB5EcXt3UaqaX+RSCUKCKhqIyliGuq0dNFQjvSJ67LTvUEanaeyMf2p2sxPzJJaUuP+i6yIh+KfRHCh+IHR8oPMnHOfbz4TW6+1BnBwdIfUlCUCOUcJVxHSSzPBKDUaDgWZVIzEL++P7imLHTZQRbZZjmWDYhgYyqQgeJP/sgRDa/M7VB/wWFy6+VNnetiNFR1PhOpKUW55kUJRtQwLiKjpq5ZKdfaOYzpIc8Jx+SDiOSqwKbKu/EDSIaPZYUjI7/+QRBhHeYpLCflYLCdujmX1BqZyBxKIr1EQyXx1O+zQzN/kYXa8OszBQllRA5GeQWR/E0sB7Hatl+UXukRfOAlUM1+25Vl1dI7RzzRYzLMc0QyoRoh0gyRUESDsuKkf12eHaxZcIn1ZUR5OUNlfPxe6VBGcK4sv84GxzUyJhLBDl+5RhL4YjnZc1Zex9li6PmAokLEzluRx/k5skt7KhHh64d+bnZHnUw0GWgJegF4+H1aNLT/gkhUhb9QtllhDGSfYAcRdhQkgS1WSPNHNykSkchKEwmOVUEo5f1ZSzFG45xI5pXr2lBlIna4/XGtux5Pd4KBMwqkIr0z24iscMQuYKy9GRnBx5iHz/gev/xkJ6paggtTKzEBFDg62uajTH1yWt3pSj61zBan+U0RM5nIVGSf3shlFf1JIKMHbQ8fAMH0OJc2vXyqSKi3WiK54ZkUkY7VoCVgODsclRVIRxS5V1khok/fFb6Wp3q7MvEzUXbE8ZKEE7nJvWLuqDZ6MiYkGwQ8CGNTpW0ivOKyhGm/VVYuImwCVtSO1XheBmNMeZBV9KRHPprSs3/GQP75+UEW/vZpbUdwgHuUSZX0zlpCwEScDa5pbqkadhXYuviTITMRUKOD0pjcKkEp8NgkVWIoDvLMZRVDBwZwVHXPh4MH36L3BxynsW+5LB9zhF3O26XXdhhzNKbt7VLQ5G/xX/8BlAcPR0WayRHt1nmPfW5DKkc1KWWW139qF10Y4giQQQQSyrzuIWhxjJJCl/9NxWPb4aiXPlZUniHhI/66rKaIfPFjuTTYwNlIq6yNlmVcJ+qc55Us6lyBoI7z05k5bLcr6bLEal5Z+VrHIWLdnHP0dc0Pvewm8PWCD+B6RwTAUk1P7ZeatVLDpBhDwkY8Vs8oytHAOqIrIllKVpmLc3TTK3YWtAHiaN3Sq8xHNkIvPpLd1vc6AHwqpb7zmp7LqyWC3OMWGGIe13Gu1jNRhxDZwpGQUSLMgUirj/utoz03HBTup6TYkbS+14EBEbFVeZyiKDlSGJllnCNG2nOO3Ov7rIt7Obcez2/HzEOfS03ZiKziH33W+z11AmjMn303hopmlEVszFBoR2hUxmTB42VhQs6W7RnZj/ytjC07m8Te76kTcO67MmO9sakmT5YRDNgYQKmNLgMc7c9bGcETkShRfILIOe/E1Wm/p06Mmj629tErrPdEH8dbI70TiwAd6HZ228yAtcrYri+LEOn9BesEgKbnJv3TAlkpDyuM2QEbtsFFgS6e0tbX6lRvsFCUJZfg8pjo/QXrBAZ1yOrA6qKIRGRQjsH2uAqYCGOOnEMo2w4iYZvA9ktui6EQ8GWCElNWIiPUKGnHSGuQ4yrBbhq96g3sBnhIE9RZ2QBDoUEUePjkhss705aEjS6LlgSg3JwNyouAtl/eRxgKjUv3ZgUYU+NHikm5HVglEY7Wp95Qk+/QuwpE2KH3/rUYCluQUprMyyDlhWEyQ8opPeBoGrPkI6CPubzxcYSEd96uit6vHkNhCyIBEW0mS684esAOt063ss1g59GJDQKlBo+geas+zx/aDIU9bvxmTq/eH8IAkcIBjHO0M4uAeyFAVhjbBlsTsqHn2cCnHkNhD/4ui62LnvbUbmwX6BWT6NE7uhk8jya3fpZaMjLvnz0NhSMQGZB3ttkYkWzROzgPIEE58sDTShWLCtnhCT7rKT7CUDgCLzFkRZ9ItUXfpobHmZ7QVuHs5YffNmWCDwujPdUsDIWzwJ8cQYayopbJTk8EokYrnwXmQSK/PG1X39GP8/55kzEUzgJ/gIkRvfSX6LlE7NQiwHmtiKEP3fTHVrIBhsKNQJ+QFcqKrPB8gQT/xsGRBYExDjJGxhcTxhDmmucyh7GyEX3nbIzeNzbDULgR+IMWmtCfc2hQmtXOm0ALrvVj5tVvvkGCMiUbPIDPPgNTY/uzMBRuBrLCWyS9QjnwEHPkTYQxTveylhDQjqFkg+cGz6ze3jwYCjcDX/DJCqsLZUFmWDLZF9lZjgZEWlImod4IEpChpNiKbPWvS42hcB6QETJDWVFeOIOjLJsmwEc5k/MRAsyBLEHgXlYt9OlbwcDWPBgK5wGRo6bJCrtVskK946SdZgwZjpYDxsyFBGVJJrQSDuzMi6FwXvDPdqxgOEWz0jMmgMOQMJF2TFZY9cgIvUWZXv0VVI7tzIOhcF6c9bbcoDhIaZEVHCNLdtxZwHlng1JiPpkkG/RHr3urGAq3Ap7A1DbOkRWcw1lnhocbJDj31oOSYh6NTzYWXalaDIVbBWs/wDnvinGYaJMFCDCGDIsDu1zmkQnu6/UtgqFwq7jyC2vbfJOhrGhgACkchgjNDSBLNri317cIhsJFgMMsxxDBUcrGBEyqJeos9noWxVC4CPirT0qFZmdFAm5uSECGkmKlYgxpPm70ehbFULgoaGzI8MRmVSIrkKA/IEgmuEZJIe/vXwZD4aLg3yxYjlmlKC+2LZBwNsgSBOgnPsv29y+DoXAZUDLUPquTmxpiECFLkGBOf9+yGAqXAZGmdGhsMgIZyokjyzDX+r+iXgWGwmVBRigxSolMQMgfFFa5UrUYCpcFH8ApH3rDKxjZgATX+vmrwFC4CtDUvLKydQGMV71StRgKV4Evn5eXYm8gafKN/llgWQyFq4Kb28+X/voqMRSuCvy/ixCBBJ9d++urxFC4Svyvnhs9hsJVgv+ZmI8VvXzVGAr//5Am/wV2sAsSa8jLVwAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/Logo-kadaster.5d975e1b.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC\"","/**\n * Deze file bevat alle methodes die door meerdere communicators gebruikt worden. bijv first letter capital\n *\n * Ook bevindt zich in deze file alle \"leterlijke strings\" dus bijv \"Gemeente\" die ik niet in de front end wou zetten.\n *\n * Hierdoor blijft de front end hopelijk stabiel terwijl je deze file alleen hoeft te veranderen wil je de functionalitiet veranderen.\n *\n * Hier zitten ook een aantal methodes in die door de front end worden aangeroepen.\n */\n\nimport * as wellKnown from \"wellknown\";\nimport Resultaat from \"../model/Resultaat\";\nimport * as turf from \"@turf/turf\";\nimport ClusterObject from \"../model/ClusterObject\";\n\n/**\n * Een file die alle classen van de brt bevat. Object klassen staan achter aan.\n * @type {*[]}\n */\nlet classes = [\"Grasland\", \"BosGemengdBos\", \"Akkerland\", \"BosNaaldbos\", \"Dodenakker\", \"BosLoofbos\", \"Spoorbaanlichaam\", \"Heide\", \"BebouwdGebied\", \"Populieren\", \"Boomgaard\", \"Boomkwekerij\", \"Zand\", \"Duin\", \"Fruitkwekerij\", \"BasaltblokkenSteenglooiing\", \"BosGriend\", \"Braakliggend\", \"Aanlegsteiger_terrein\", \"DodenakkerMetBos\", \"BronWel\", \"GreppelDrogeSloot\", \"Waterloop\", \"MeerPlas\", \"Droogvallend\", \"Droogvallend_LAT\", \"Zee_waterdeel\", \"KasWarenhuis\", \"Tank\", \"Huizenblok\", \"KloosterAbdij\", \"Zwembad_gebouw\", \"Sporthal\", \"ParkeerdakParkeerdekParkeergarage\", \"Gemeentehuis\", \"Toren\", \"WindmolenKorenmolen\", \"Gemaal\", \"Kapel\", \"Uitzichttoren\", \"Pompstation\", \"Manege\", \"Fort\", \"Rune\", \"Transformatorstation_gebouw\", \"Tankstation\", \"Museum\", \"Kasteel\", \"School\", \"Waterradmolen\", \"Ziekenhuis\", \"Postkantoor\", \"Bunker\", \"Koeltoren\", \"Vuurtoren\", \"Watertoren\", \"WindmolenWatermolen\", \"Universiteit\", \"RadiotorenTelevisietoren\", \"Bezoekerscentrum\", \"PsychiatrischZiekenhuisPsychiatrischCentrum\", \"Gevangenis\", \"Elektriciteitscentrale\", \"Politiebureau\", \"Radarpost\", \"Schaapskooi\", \"Lichttoren\", \"Werf_gebouw\", \"Radartoren\", \"Dok\", \"Veiling\", \"Fabriek\", \"Peilmeetstation\", \"Windmolen\", \"Schoorsteen\", \"Crematorium\", \"Stadion\", \"Paleis\", \"Kunstijsbaan\", \"Telecommunicatietoren\", \"Klokkentoren\", \"Zendtoren\", \"Brandweerkazerne\", \"Stationsgebouw\", \"MarkantGebouw\", \"Reddingboothuisje\", \"KliniekInrichtingSanatorium\", \"Recreatiecentrum\", \"Verkeerstoren\", \"Koepel\", \"KerncentraleKernreactor\", \"StadskantoorHulpsecretarie\", \"Hotel\", \"Remise\", \"Kerk\", \"Brandtoren\", \"Luchtwachttoren\", \"Silo\", \"Moskee\", \"OverigReligieusGebouw\", \"Synagoge\", \"MilitairGebouw\", \"Windturbine\", \"Tol_gebouw\", \"Boortoren\", \"Observatorium\", \"Wegrestaurant\", \"Bomenrij\", \"Koedam\", \"HegHaag\", \"Aanlegsteiger_inrichtingselement\", \"Hekwerk\", \"Wegafsluiting\", \"Verkeersgeleider\", \"Stuw\", \"Muur\", \"Geluidswering\", \"StrekdamKribGolfbreker\", \"Hoogspanningsleiding\", \"Sluisdeur\", \"Schietbaan\", \"Kabelbaan\", \"Paalwerk\", \"Stormvloedkering\", \"Tol_inrichtingselement\", \"Boom\", \"Strandpaal\", \"Hoogspanningsmast\", \"Wegwijzer\", \"Grenspunt\", \"Kruis\", \"Pijler\", \"Kilometerraaibord\", \"Paal\", \"Zendmast\", \"Kilometerpaal\", \"Windmolentje\", \"Dukdalf\", \"Peilschaal\", \"Scheepvaartlicht\", \"Botenhelling\", \"KilometerpaalWater\", \"KogelvangerSchietbaan\", \"GedenktekenMonument\", \"KilometerpaalSpoorweg\", \"Radiotelescoop\", \"MarkantObject\", \"Seinmast\", \"GpsKernnetpunt\", \"Kilometerraaipaal\", \"Klokkenstoel\", \"Vlampijp\", \"Busstation\", \"Oliepompinstallatie\", \"Hunebed\", \"Uitzichtpunt\", \"Baak\", \"ZichtbaarWrak\", \"Golfmeetpaal\", \"Helikopterlandingsplatform\", \"Kraan\", \"Gaswinning_inrichtingselement\", \"Metrostation\", \"Treinstation\", \"Sneltramhalte\", \"Kaap\", \"Havenhoofd\", \"Vliedberg\", \"Kabelbaanmast\", \"Plaatsnaambord\", \"Calamiteitendoorgang\", \"Leiding\", \"Luchtvaartlicht\", \"Radiobaken\", \"RdPunt\", \"Weg\", \"Spoor\", \"Water\", \"Wijk\", \"Buurtschap\", \"Gehucht\", \"Deelkern\", \"Buurt\", \"Woonkern\", \"Industriekern\", \"Recreatiekern\", \"Stadsdeel\", \"TaludHoogteverschil\", \"SteileRandAardrand\", \"Wal\", \"Trein\", \"Metro\", \"Tram\", \"Sneltram\", \"Gemengd\", \"Werf_functioneelGebied\", \"Park\", \"Gebouwencomplex\", \"Haven_functioneelGebied\", \"Natuurgebied\", \"Landgoed\", \"Infiltratiegebied\", \"Verdedigingswerk\", \"Boswachterij\", \"Tennispark\", \"Bedrijventerrein\", \"Eendenkooi\", \"Woonwagencentrum\", \"Transformatorstation_functioneelGebied\", \"Zuiveringsinstallatie\", \"SportterreinSportcomplex\", \"Begraafplaats\", \"Wildwissel\", \"Jachthaven\", \"Stortplaats\", \"Bungalowpark\", \"CampingKampeerterrein\", \"Heemtuin\", \"Volkstuinen\", \"Vakantiepark\", \"Sluizencomplex\", \"Ijsbaan\", \"DierentuinSafaripark\", \"Zenderpark\", \"Circuit\", \"Viskwekerij_functioneelGebied\", \"Ziekenhuiscomplex\", \"Verzorgingsplaats\", \"Openluchtmuseum\", \"Crossbaan\", \"Openluchttheater\", \"Waterkering\", \"Mosselbank\", \"Milieustraat\", \"Kassengebied\", \"VliegveldLuchthaven\", \"BotanischeTuin\", \"Golfterrein\", \"Zonnepark\", \"Kartingbaan\", \"Caravanpark\", \"Visvijvercomplex\", \"Erebegraafplaats\", \"KazerneLegerplaats\", \"MilitairOefengebiedSchietterrein\", \"ZwembadComplex\", \"Gaswinning_functioneelGebied\", \"Zweefvliegveldterrein\", \"Renbaan\", \"Attractiepark\", \"Grafheuvel\", \"Windturbinepark\", \"Tuincentrum\", \"Zandwinning\", \"Recreatiegebied\", \"Skibaan\", \"Productie-installatie\", \"Groeve\", \"Campus\", \"Helikopterlandingsterrein\", \"Zoutwinning\", \"GebiedVoorRadioastronomie\", \"NationaalPark\", \"Grindwinning\", \"Slipschool\", \"Emplacement\", \"Mijn\", \"Oliewinning\", \"Plantsoen\", \"Arboretum\", \"GebiedMetHogeObjecten\", \"NatuurgebiedNatuurreservaat\", \"Veerverbinding\", \"Autosnelweg\", \"RegionaleWeg\", \"Hoofdweg\", \"LokaleWeg\", \"Straat\", \"ParkeerplaatsCarpool\", \"Parkeerplaats\", \"RolbaanPlatform\", \"StartbaanLandingsbaan\", \"ParkeerplaatsPR\", \"Polder\", \"StreekVeld\", \"Bosgebied\", \"GeulVaargeul\", \"Heidegebied\", \"HeuvelBerg\", \"BankOndieptePlaat\", \"ZeegatZeearm\", \"Eiland\", \"KaapHoek\", \"Duingebied\", \"Zee_geografischGebied\", \"Wad\", \"TerpWierde\", \"Watergebied\", \"Hoogtepunt\", \"Dieptepunt\", \"Peil\", \"PeilWinterpeil\", \"PeilZomerpeil\", \"Laagwaterlijn\", \"Hoogtelijn\", \"Dieptelijn\", \"Hoogwaterlijn\", \"Gemeente\", \"Provincie\", \"Land\", \"TerritorialeZee\", \"Waterschap\", \"Overig_terrein\", \"Overig_waterdeel\", \"Overig_gebouw\", \"Overig_inrichtingselement\", \"Overig_planTopografie\", \"Overig_functioneelGebied\", \"Overig_wegdeel\", \"Overig_geografischGebied\", \"Terrein\", \"Waterdeel\", \"Gebouw\", \"Inrichtingselement\", \"PlanTopografie\", \"Plaats\", \"Relief\", \"Spoorbaandeel\", \"FunctioneelGebied\", \"Wegdeel\", \"GeografischGebied\", \"Hoogte\", \"RegistratiefGebied\"];\n\n/**\n * Hier kan je de index opvragen van een element in de array classes.\n * Dus speciefiekere object beschrijvingen hebben een lagere index.\n * @param className string\n * @returns {number}\n */\nexport function getIndexOfClasses(className) {\n    return classes.indexOf(className);\n}\n\n/**\n * Een functie die de front end gebruikt om recht geklikte resultaten te filteren. Deze kan je aanpassen.\n * Ik wou niet dat nederland en proviencies werden getoond.\n * @param res\n * @returns {boolean}\n */\nexport function isShownClickedResults(res) {\n    return res.getType() !== \"Land\" && res.getType() !== \"Provincie\";\n}\n\n/**\n * Dit is een functie die een kleur toewijst aan een klasse.\n * @param type\n * @returns {string|undefined}\n */\nexport function getColor(type) {\n    switch (type) {\n        case \"FunctioneelGebied\":\n            return \"green\";\n        case \"Gebouw\":\n            return \"red\";\n        case \"GeografischGebied\":\n            return \"mediumaquamarine\";\n        case \"Hoogte\":\n            return undefined;\n        case \"Inrichtingselement\":\n            return \"purple\";\n        case \"Plaats\":\n            return \"turqoise\";\n        case \"PlanTopografie\":\n            return undefined;\n        case \"RegistratiefGebied\":\n            return \"yellow\";\n        case \"Spoorbaandeel\":\n            return \"purple\";\n        case \"Terrein\":\n            return \"mediumaquamarine\";\n        case \"Relief\":\n            return undefined;\n        case \"Waterdeel\":\n            return \"blue\";\n        case \"Wegdeel\":\n            return \"purple\";\n        default:\n            return undefined;\n    }\n}\n\n/**\n * Wordt door de front-end gebruikt om de layering te bepalen.\n * @param list de lijst die jezelf kan sorteren.\n */\nexport function sortByObjectClass(list) {\n    list.sort((a, b) => {\n        a = a.properties;\n        b = b.properties;\n\n        if (a.getType() === \"Provincie\" || b.getType() === \"Provincie\") {\n            if (a.getType() === \"Provincie\" && b.getType() === \"Provincie\") {\n                return 0;\n            } else if (a.getType() === \"Provincie\") {\n                return -1;\n            } else {\n                return 1;\n            }\n        }\n\n        if (a.getType() === \"Gemeente\" || b.getType() === \"Gemeente\") {\n            if (a.getType() === \"Gemeente\" && b.getType() === \"Gemeente\") {\n                return 0;\n            } else if (a.getType() === \"Gemeente\") {\n                return -1;\n            } else {\n                return 1;\n            }\n        }\n\n        if (a.getType() === \"Woonkern\" || b.getType() === \"Woonkern\") {\n            if (a.getType() === \"Woonkern\" && b.getType() === \"Woonkern\") {\n                return 0;\n            } else if (a.getType() === \"Woonkern\") {\n                return -1;\n            } else {\n                return 1;\n            }\n        }\n\n        if (a.getType() === \"Stadsdeel\" || b.getType() === \"Stadsdeel\") {\n            if (a.getType() === \"Stadsdeel\" && b.getType() === \"Stadsdeel\") {\n                return 0;\n            } else if (a.getType() === \"Stadsdeel\") {\n                return -1;\n            } else {\n                return 1;\n            }\n        }\n\n        if (a.getType() === \"Wijk\" || b.getType() === \"Wijk\") {\n            if (a.getType() === \"Wijk\" && b.getType() === \"Wijk\") {\n                return 0;\n            } else if (a.getType() === \"Wijk\") {\n                return -1;\n            } else {\n                return 1;\n            }\n        }\n\n        if (a.getType() === \"Buurt\" || b.getType() === \"Buurt\") {\n            if (a.getType() === \"Buurt\" && b.getType() === \"Buurt\") {\n                return 0;\n            } else if (a.getType() === \"Buurt\") {\n                return -1;\n            } else {\n                return 1;\n            }\n        }\n\n        if (a.getObjectClass() === \"Gebouw\" || b.getObjectClass() === \"Gebouw\") {\n            if (a.getObjectClass() === \"Gebouw\" && b.getObjectClass() === \"Gebouw\") {\n                return 0;\n            } else if (a.getObjectClass() === \"Gebouw\") {\n                return 1;\n            } else {\n                return -1;\n            }\n        }\n\n        return 0;\n    })\n}\n\n/**\n * Verander elk eerste letter naar een hoofdletter\n * @param text\n * @returns {string}\n */\nexport function firstLetterCapital(text) {\n    return text.toLowerCase()\n        .split(' ')\n        .map(s => {\n            if (!s.startsWith(\"ij\")) {\n                return s.charAt(0).toUpperCase() + s.substring(1)\n            } else {\n                return s.charAt(0).toUpperCase() + s.charAt(1).toUpperCase() + s.substring(2)\n            }\n        })\n        .join(' ');\n}\n\n/**\n * Haalt alles voor de # weg\n * @param url\n * @returns {*|void|string}\n */\nexport function stripUrlToType(url) {\n    return url.replace(/.*#/, \"\");\n}\n\n/**\n * Seperate de string gebasseerd op uppercase.\n * @param string\n * @returns {string}\n */\nexport function seperateUpperCase(string) {\n    //haal ook underscores weg\n    string = string.replace(\"_\", \" \");\n\n    string = string.split(/(?=[A-Z])/);\n    string.forEach((res, index, arr) => {\n            if (index !== 0) {\n                arr[index] = arr[index].charAt(0).toLowerCase() + arr[index].slice(1)\n            }\n        }\n    );\n\n    return string.join(\" \");\n}\n\n/**\n * Verandert een 1 of true naar ja. anders nee\n * @param string\n * @returns {string}\n */\nexport function veranderNaarJaNee(string) {\n    if (string === \"1\" || string === \"true\") {\n        return \"ja\";\n    }\n    return \"nee\";\n}\n\n/**\n * Sorteert op naam en dan geometry\n * Vooral gemaakt voor straten.\n * @param values\n * @param searchString\n */\nexport function sortByGeoMetryAndName(values, searchString) {\n    if (searchString) {\n        searchString = searchString.toUpperCase();\n    }\n\n    values.sort((a, b) => {\n        //kijk eerst of de gezochte string zich bevindt in de naam\n        if (a.naam && b.naam && searchString) {\n            let naama = a.naam.value.toUpperCase();\n            let naamb = b.naam.value.toUpperCase();\n\n            if (naama.includes(searchString) && !naamb.includes(searchString)) {\n                return -1;\n            } else if (!naama.includes(searchString) && naamb.includes(searchString)) {\n                return 1;\n            }\n        }\n\n        //sorteer op geometry\n        let aGeo = a.wktJson.value;\n        let bGeo = b.wktJson.value;\n\n        if (aGeo.startsWith(\"GEOMETRYCOLLECTION\") || bGeo.startsWith(\"GEOMETRYCOLLECTION\")) {\n            if (aGeo.startsWith(\"GEOMETRYCOLLECTION\")) {\n                return -1;\n            } else {\n                return 1;\n            }\n        } else if (aGeo.startsWith(\"MULTIPOLYGON\") || bGeo.startsWith(\"MULTIPOLYGON\")) {\n            if (aGeo.startsWith(\"MULTIPOLYGON\")) {\n                return -1;\n            } else {\n                return 1;\n            }\n        } else if (aGeo.startsWith(\"MULTILINESTRING\") || bGeo.startsWith(\"MULTILINESTRING\")) {\n            if (aGeo.startsWith(\"MULTILINESTRING\")) {\n                return -1;\n            } else {\n                return 1;\n            }\n        } else if (aGeo.startsWith(\"MULTIPOINT\") || bGeo.startsWith(\"MULTIPOINT\")) {\n            if (aGeo.startsWith(\"MULTIPOINT\")) {\n                return -1;\n            } else {\n                return 1;\n            }\n        } else if (aGeo.startsWith(\"POLYGON\") || bGeo.startsWith(\"POLYGON\")) {\n            if (aGeo.startsWith(\"POLYGON\")) {\n                return -1;\n            } else {\n                return 1;\n            }\n        } else if (aGeo.startsWith(\"LINESTRING\") || bGeo.startsWith(\"LINESTRING\")) {\n            if (aGeo.startsWith(\"LINESTRING\")) {\n                return -1;\n            } else {\n                return 1;\n            }\n        }\n\n        return 0;\n    });\n}\n\nlet worker;\nlet latestString;\n\n/**\n * Methode om Resultaat objecten te clusteren.\n * @param res het resultaten lijstje.\n * @param text de text waarmee gezocht is\n * @param setMethod de methode om de resultaten te zettten.\n * @returns {string|[]}\n */\nexport function clusterObjects(res, text, setMethod) {\n    //kijk eerst of de webbrowser een webworker heeft. Anders doe het in de ui thread.\n    if (window.Worker) {\n        //laatste string waarop is gezocht.\n        latestString = text;\n\n        //als er nog geen webworker is maak er dan eentje aan.\n        if (!worker) {\n            worker = new Worker(\"./worker.js\");\n        }\n\n        //post de res objecten naar de worker.\n        worker.postMessage({res : res, text : text});\n\n        //als de werker klaar is moet je het weer omzetten naar Javascript classen.\n        worker.onmessage = (data) => {\n            data = data.data;\n\n            let originalquery = data.text;\n\n            //als de gebruiker niets nieuws heeft opgezocht.\n            if (originalquery === latestString) {\n                //zet alle res objecten om naar Resultaat.js objecten\n                let results = data.resultaat.map(res => {\n                    return new Resultaat(\n                        res._url,\n                        res._naam,\n                        res._type,\n                        res._geoJson,\n                        res._color,\n                        res._objectClass\n                    )\n                });\n\n                //zet alle res objecten om naar ClusterObject.js objecten.\n                let clusters = data.clusters.map(res => {\n                    let values = res._values;\n\n                    values = values.map(res => {\n                        return new Resultaat(\n                            res._url,\n                            res._naam,\n                            res._type,\n                            res._geoJson,\n                            res._color,\n                            res._objectClass\n                        )\n                    });\n\n                    if (values.length > 1) {\n                        return new ClusterObject(\n                            res._naam,\n                            res._type,\n                            res._geoJson,\n                            values,\n                            res._color,\n                            res._objectClass\n                        );\n                    } else {\n                        return values[0];\n                    }\n                });\n\n                let res = clusters.concat(results);\n\n                if (text !== undefined) {\n                    //sorteer het nog even zodat exacte resultaten naar voren komen.\n                    res = bringExactNameToFront(text, res);\n                }\n\n                //zet de res van buiten.\n                setMethod(res, text === undefined);\n            }\n        };\n\n        //De front end zal blijven wachten als je het de string \"waiting\" terug geeft.\n        return \"waiting\";\n    } else {\n        //dit is de code om Resultaat.js objecten te clusteren.\n        //Zelfde code staat in de webworker in de public folder.\n        let map = new Map();\n\n        //cluster eerst op basis van naam en class.\n        for (let i = res.length - 1; i >= 0; i--) {\n            let naam = res[i].getType() === \"Waterloop\" ? res[i].getNaam() + res[i].getType() : res[i].getNaam() + res[i].getObjectClass();\n\n            if (res[i].getType() === \"Waterloop\" || res[i].getObjectClass() === \"Wegdeel\") {\n                if (map.has(naam)) {\n                    map.get(naam).push(res[i]);\n                } else {\n                    map.set(naam, [res[i]]);\n                }\n\n                res.splice(i, 1);\n            }\n        }\n\n        let clusterMap = new Map();\n\n        //hierna cluster op basis van locatie. Kijk of de objecten wel aanliggend zijn.\n        map.forEach((value, key, map) => {\n            let mapCounter = 0;\n\n            //terwijl er nog objecten zijn die nog niet een naaste object hebben gevonden.\n            while (value.length > 0) {\n                //pak de eerste\n                let eerste = value.shift();\n                let cluster = [eerste];\n\n                //zet deze in de cluster.\n                clusterMap.set(eerste.getNaam() + mapCounter, cluster);\n                mapCounter++;\n\n                //kijk of er objecten zijn in het lijstje met overgebleven objecten die naast het huidige cluster object\n                //liggen\n                for (let i = 0; i < cluster.length; i++) {\n                    for (let j = value.length - 1; j >= 0; j--) {\n                        let inter = turf.lineIntersect(cluster[i].getGeoJson(), value[j].getGeoJson());\n\n                        //als het er naast ligt\n                        if (inter.features.length > 0) {\n                            //voeg het toe aan het cluster lijstje\n                            cluster.push(value[j]);\n                            //haal het uit de originele lijst.\n                            value.splice(j, 1);\n                        }\n                    }\n                }\n            }\n        });\n\n        //voor elke cluster\n        let clusters = [];\n\n        clusterMap.forEach(value => {\n            if (value.length > 1) {\n                let first = value[0];\n                let geoJSON = [];\n\n                //voeg de geojson van alle objecten samen\n                value.forEach(res => {\n                    let geo;\n\n                    //als het geen polygoon is, doe er een buffer omheen zodat het wel een polygoon wordt.\n                    if (res.getGeoJson().type !== \"Polygon\") {\n                        geo = turf.buffer(res.getGeoJson(), 0.0001).geometry;\n                    } else {\n                        geo = res.getGeoJson();\n                    }\n\n                    //maak er features van anders werkt union niet.\n                    geoJSON.push({\n                            type: 'Feature',\n                            geometry: geo\n                        }\n                    )\n                });\n\n                //voeg ze samen.\n                geoJSON = turf.union(...geoJSON).geometry;\n\n                //push het naar de cluster.\n                clusters.push(new ClusterObject(first.getNaam(), first.getType(), geoJSON, value, first.getColor(), first.getObjectClass()));\n            } else {\n                clusters.push(value[0])\n            }\n        });\n\n        //haal alle exacte namen naar voren.\n        return bringExactNameToFront(text, clusters.concat(res));\n    }\n}\n\n/**\n * Haal alle namen die precies overeen komen met de search string naar voren.\n * @param string\n * @param res\n * @returns {*}\n */\nexport function bringExactNameToFront(string, res) {\n    let j = 0;\n    string = string.toUpperCase();\n\n    for (let i = 0; i < res.length; i++) {\n        if (string === res[i].getNaam().toUpperCase()) {\n            let x = res[j];\n            res[j] = res[i];\n            res[i] = x;\n\n            j++;\n        }\n    }\n\n    return res;\n}\n\n/**\n * Maak een lijst van Resultaat.js objecten uit een sparql query response.\n * @param res\n * @param latestString\n * @returns {[]}\n */\nexport function processSearchScreenResults(res, latestString) {\n    let returnObject = [];\n    res = res.results.bindings;\n\n    //Het kan zo zijn dat hetzelfde object met dezelfde uri meerdere keren kan voorkomen in de res. Hierom wordt er eerst,\n    //geclusterd op basis van uri.\n    let map = new Map();\n    for (let i = 0; i < res.length; i++) {\n        let value = res[i].s.value;\n\n        if (map.has(value)) {\n            map.get(value).push(res[i]);\n        } else {\n            map.set(value, [res[i]]);\n        }\n    }\n\n    /**\n     * Voor elke uri maak dan een Resultaat.js object.\n     */\n    map.forEach((valueMap, key, map) => {\n        let naam, type, geoJson, color, objectClass;\n\n        //Het kan zo zijn dat een object meerdere namen heeft. Haal de naam die het meest overeenkomt.\n        //Een object kan ook merdere wkt's hebben bijv linestring of polygoon. Deze methode haalt de gene met grootste wkt ook naar voren.\n        sortByGeoMetryAndName(valueMap, latestString);\n\n        let fO = valueMap[0];\n\n        //hier gebeuren drie dingen.\n        //Check eerste of de naam exact overeenkomt met de gezochte string.\n        //check daarna of de naam de naam de gezochte string bevat.\n        //check Anders pak gewoon een naam.\n\n        //check of de string exact overeenkomt.\n        if ((fO.brugnaam && fO.brugnaam.value.toUpperCase() === latestString.toUpperCase())\n            || (fO.tunnelnaam && fO.tunnelnaam.value.toUpperCase() === latestString.toUpperCase())\n            || (fO.sluisnaam && fO.sluisnaam.value.toUpperCase() === latestString.toUpperCase())\n            || (fO.knooppuntnaam && fO.knooppuntnaam.value.toUpperCase() === latestString.toUpperCase())) {\n            if (fO.brugnaam) {\n                naam = fO.brugnaam.value;\n            } else if (fO.tunnelnaam) {\n                naam = fO.tunnelnaam.value;\n            } else if (fO.sluisnaam) {\n                naam = fO.sluisnaam.value;\n            } else {\n                naam = fO.knooppuntnaam.value;\n            }\n\n            naam = naam.replace(/\\|/g, \"\");\n        } else if (fO.offnaam && fO.offnaam.value.toUpperCase() === latestString.toUpperCase()) {\n            naam = fO.offnaam.value;\n        } else if (fO.naamFries && fO.naamFries.value.toUpperCase() === latestString.toUpperCase()) {\n            naam = fO.naamFries.value;\n        } else if (fO.naamNl && fO.naamNl.value.toUpperCase() === latestString.toUpperCase()) {\n            naam = fO.naamNl.value;\n        } else if (fO.naam && fO.naam.value.toUpperCase() === latestString.toUpperCase()) {\n            naam = fO.naam.value;\n            //check hierna of de namen de gezochte string bevatten.\n        } else if ((fO.brugnaam && fO.brugnaam.value.toUpperCase().includes(latestString.toUpperCase()))\n            || (fO.tunnelnaam && fO.tunnelnaam.value.toUpperCase().includes(latestString.toUpperCase()))\n            || (fO.sluisnaam && fO.sluisnaam.value.toUpperCase().includes(latestString.toUpperCase()))\n            || (fO.knooppuntnaam && fO.knooppuntnaam.value.toUpperCase().includes(latestString.toUpperCase()))\n        ) {\n            if (fO.brugnaam) {\n                naam = fO.brugnaam.value;\n            } else if (fO.tunnelnaam) {\n                naam = fO.tunnelnaam.value;\n            } else if (fO.sluisnaam) {\n                naam = fO.sluisnaam.value;\n            } else {\n                naam = fO.knooppuntnaam.value;\n            }\n\n            naam = naam.replace(/\\|/g, \"\");\n        } else if (fO.offnaam && fO.offnaam.value.toUpperCase().includes(latestString.toUpperCase())) {\n            naam = fO.offnaam.value;\n        } else if (fO.naamFries && fO.naamFries.value.toUpperCase().includes(latestString.toUpperCase())) {\n            naam = fO.naamFries.value;\n        } else if (fO.naamNl && fO.naamNl.value.toUpperCase().includes(latestString.toUpperCase())) {\n            naam = fO.naamNl.value;\n        } else if (fO.naam && fO.naam.value.toUpperCase().includes(latestString.toUpperCase())) {\n            naam = fO.naam.value;\n        } else {\n            //anders pak gewoon een naam\n            if (fO.naam) {\n                naam = fO.naam.value;\n            } else if (fO.naamNl) {\n                naam = fO.naamNl.value;\n            } else if (fO.naamFries) {\n                naam = fO.naamFries.value;\n            }\n        }\n\n        //krijg de type\n        if (fO.type !== undefined) {\n            let indexes = [];\n\n            //Raap eerst alle types bij elkaar\n            //krijg dan de stipped url en dan de meest speciefieke type\n            //Dus Sporthal komt voor Gebouw want Sporthal is specefieker.\n            for (let j = 0; j < valueMap.length; j++) {\n                let value = stripUrlToType(valueMap[j].type.value);\n                let index = getIndexOfClasses(value);\n                indexes.push({index: index, type: value});\n            }\n\n            //sorteer daarna op of welke het meest speciefiek is.\n            indexes.sort((a, b) => {\n                return a.index - b.index;\n            });\n\n            //pak de meest speciefieke als type\n            let value = indexes[0].type;\n            type = seperateUpperCase(value);\n\n            //De minst speciefieke wordt de object klasse.\n            objectClass = seperateUpperCase(indexes[indexes.length - 1].type);\n\n            //pak een kleur op basis van het type.\n            color = getColor(indexes[indexes.length - 1].type);\n        }\n\n        //de wkt naar geojson\n        if (fO.wktJson !== undefined) {\n            let wktJson = fO.wktJson.value;\n            geoJson = wellKnown.parse(wktJson);\n        }\n\n        //maak een Resultaat object en push deze naar de array.\n        let resultaatObj = new Resultaat(key, naam, type, geoJson, color, objectClass);\n        returnObject.push(resultaatObj);\n    });\n\n    return returnObject;\n}\n\n/**\n * Krijgt alle overige attributen van het geklikt object.\n * @param res de response van de uitgevoerde quert\n * @param clickedRes het geklikt lege resultaat.\n */\nexport function processGetAllAttributes(res, clickedRes) {\n    let nodes = res.results.bindings;\n\n    let naam;\n    let naamNl;\n    let naamFries;\n    let naamOfficieel;\n    let burgNaam;\n    let tunnelNaam;\n    let knoopPuntNaam;\n    let sluisNaam;\n    let types = [];\n    let overigeAttributen = [];\n\n    /**\n     * Ga langs elk attribuut en voeg deze toe aan het correcte attribuut\n     */\n    for (let i = 0; i < nodes.length; i++) {\n        let key = stripUrlToType(nodes[i].prd.value);\n        let value = nodes[i].obj.value;\n\n        if (key === \"naam\") {\n            naam = value;\n        } else if (key === \"brugnaam\") {\n            value = value.replace(/\\|/g, \"\");\n            burgNaam = value;\n        } else if (key === \"tunnelnaam\") {\n            value = value.replace(/\\|/g, \"\");\n            tunnelNaam = value;\n        } else if (key === \"sluisnaam\") {\n            value = value.replace(/\\|/g, \"\");\n            sluisNaam = value;\n        } else if (key === \"knooppuntnaam\") {\n            value = value.replace(/\\|/g, \"\");\n            knoopPuntNaam = value;\n        } else if (key === \"naamNL\") {\n            naamNl = value;\n        } else if (key === \"naamFries\") {\n            naamFries = value;\n        } else if (key === \"type\") {\n            types.push((stripUrlToType(value)));\n        } else if (key === \"naamOfficieel\") {\n            naamOfficieel = value.replace(/\\|/g, \"\");\n\n            //labels moeten er niet in want dat wou jasper niet.\n        } else if (key !== \"label\") {\n            let formattedKey;\n\n            //vervang een aantal attributen handmatig.\n            if (key === \"isBAGnaam\") {\n                formattedKey = \"BAG-naam\";\n            } else if (key === \"isBAGwoonplaats\") {\n                formattedKey = \"BAG-woonplaats\";\n            } else if (key === \"aantalinwoners\") {\n                formattedKey = \"Aantal inwoners\"\n            } else {\n                //andere automatisch\n                formattedKey = seperateUpperCase(key)\n            }\n\n            //als deze attributen er in zitten haal deze naar boven.\n            if (key === \"soortnaam\" || key === \"isBAGwoonplaats\" || key === \"bebouwdeKom\" || key === \"aantalinwoners\" || key === \"getijdeinvloed\"\n                || key === \"hoofdafwatering\" || key === \"isBAGnaam\" || key === \"elektrificatie\" || key === \"gescheidenRijbaan\") {\n\n                //behalve deze twee zorg ervoor dat de 1 of 0 wordt vervangen met ja of nee\n                if (key !== \"aantalinwoners\" && key !== \"soortnaam\") {\n                    value = veranderNaarJaNee(value);\n                }\n\n                overigeAttributen.unshift({key: (formattedKey), value: value});\n            } else {\n                overigeAttributen.push({key: (formattedKey), value: value});\n            }\n        }\n    }\n\n    //Raap eerst alle types bij elkaar\n    //krijg dan de stipped url en dan de meest speciefieke type\n    //Dus Sporthal komt voor Gebouw want Sporthal is specefieker.\n    let indexes = [];\n    for (let i = 0; i < types.length; i++) {\n        let index = getIndexOfClasses(types[i]);\n        let value = seperateUpperCase(types[i]);\n        indexes.push({index: index, type: value});\n    }\n\n    //krijg de meest relevante type. Dit kon ik ook eigenlijk uit de res halen. Je kan er ook voor kiezen om alle types te\n    //tonen.\n    indexes.sort((a, b) => {\n        return a.index - b.index;\n    });\n\n    if (clickedRes.getRes().getGeoJson().type !== \"Point\") {\n        let area = calculateArea(clickedRes.getAsFeature());\n        overigeAttributen.push({key: \"oppervlakte\", value: area});\n    }\n\n    /**\n     * Laad de attributen in de clicked res\n     */\n    clickedRes.loadInAttributes(\n        naam,\n        naamOfficieel,\n        naamNl,\n        naamFries,\n        [indexes[0].type],\n        overigeAttributen,\n        burgNaam,\n        tunnelNaam,\n        sluisNaam,\n        knoopPuntNaam);\n}\n\n/**\n * Berekend de oppervalkte in m2.\n * @param feature\n * @returns {string}\n */\nfunction calculateArea(feature) {\n    let area = Math.round(turf.area(feature));\n    return area.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\") + \" m2\";\n}","import React from 'react';\n\n/**\n * Start scherm met de stuk tekst.\n */\nclass StartScreen extends React.Component {\n    render() {\n        return (\n            <div className=\"startScreen\">\n                <p className=\"boldHeaderText\">Zoek je een naam? Je vindt m hier!</p>\n                <p className=\"explainText\">\n                    In de Topo Namenzoeker kun je zoeken op alle namen die in de topografische bestanden en kaarten van\n                    het Kadaster aanwezig zijn. Aardrijkskundige namen zijn onmisbaar om te beschrijven waar we zijn,\n                    waar we vandaan komen en waar we naartoe gaan. In de <a href=\"http://www.kadaster.nl/brt\"\n                                                                            target=\"_blank\" rel=\"noreferrer noopener\">Basisregistratie\n                    Topografie (BRT)</a>,\n                    die het Kadaster beheert en bijhoudt, registreren we namen van gemeenten, plaatsen, wegen, wateren,\n                    gebieden, gebouwen en allerlei andere objecten in Nederland. In deze applicatie vind je ze,\n                    mt het bijbehorende object en aanvullende informatie.\n                </p>\n                <p className=\"boldHeaderText\">Hoe werkt het?</p>\n                <p className=\"explainText\">\n                    Je kunt op twee manieren zoeken:\n                </p>\n\n                <ol>\n                    <li>\n                        Tik in het zoekveld hierboven een naam in en de resultaten verschijnen direct in een lijst\n                        n\n                        als object in de kaart hiernaast. Je vindt namen die exact gelijk zijn aan je zoekterm, maar\n                        ook namen die je zoekterm bevatten. Wil je alleen exact zoeken, zet je zoekterm dan tussen .\n                        Hou er wel rekening mee dat het bij veel voorkomende namen\n                        even kan duren voor alle objecten in beeld verschijnen.\n                    </li>\n                    <li>\n                        Of klik met je rechtermuisknop in de kaart (bij een aanraakscherm je vinger twee seconden op de\n                        kaart houden) en alle objecten met een naam in de buurt\n                        verschijnen\n                        in de kaart en in een lijst met resultaten. Zo kun je elke naam vinden, zelfs als je m nog\n                        niet\n                        kent!\n                    </li>\n                </ol>\n                <br/>\n\n                <p className=\"explainText\">\n                    Als je een zoekresultaat aanklikt, krijg je aanvullende informatie over het bijbehorende object te\n                    zien. Bij welk object hoort de naam, wat is de functie, hoeveel inwoners heeft je stad of dorp, wat\n                    is de oppervlakte van een gebied? De antwoorden vind je hier.\n                </p>\n\n                <p className=\"explainText\">\n                    De Basisregistratie Topografie wordt jaarlijks volledig geactualiseerd. De Topo Namenzoeker maakt\n                    gebruik van de actuele dataset van de BRT.\n                </p>\n\n                <p className=\"boldHeaderText\">Mis je nog een naam? Meld het ons!</p>\n                <p className=\"explainText\">\n                    Via <a href=\"http://www.verbeterdekaart.nl/\" target=\"_blank\" rel=\"noreferrer noopener\">Verbeter de\n                    kaart</a> kun je onjuiste of ontbrekende\n                    namen terugmelden.\n                    Dankzij jouw hulp kunnen we onze bestanden en kaarten nog beter en completer maken.\n                </p>\n                <p className=\"boldHeaderText\">Meer van de BRT zien?</p>\n                <p className=\"explainText\">\n                    Kijk ook eens naar onze <a href=\"https://labs.kadaster.nl/cases/brt\" target=\"_blank\"\n                                               rel=\"noreferrer noopener\">datastorys</a> of maak met\n                    onze kaarten een reis door de tijd in <a href=\"http://www.topotijdreis.nl/\" target=\"_blank\"\n                                                             rel=\"noreferrer noopener\">Topotijdreis</a>.\n                </p>\n                <p className=\"boldHeaderText\">Over de Topo Namenzoeker</p>\n                <p className=\"explainText\">\n                    De Topo Namenzoeker is ontwikkeld door het Kadaster. De applicatie maakt de grote verscheidenheid\n                    aan aardrijkskundige namen in de Basisregistratie Topografie zichtbaar en toegankelijk, en laat\n                    daarnaast de technische mogelijkheden van Linked Data zien. We zien graag je reactie op de Topo\n                    Namenzoeker op het <a\n                    href=\"https://geoforum.nl/\" target=\"_blank\"\n                    rel=\"noreferrer noopener\">Geoforum.nl</a>.\n                </p>\n            </div>\n        )\n    }\n}\n\nexport default StartScreen;","/**\n * Observable class om MVC te implementeren.\n */\nclass Observable{\n    constructor() {\n        this._subscribers = [];\n    }\n\n    updateSubscribers(){\n        this._subscribers.map(subscriber => subscriber.update());\n    }\n\n    /**\n     * Als je wilt subscriben moet je de methode update implementeren.\n     * Ook niet vergeten om te unsubscriben.\n     * @param subscriber\n     */\n    subscribe(subscriber){\n        this._subscribers.push(subscriber);\n    }\n\n    unsubscribe(subscriber){\n        this._subscribers.filter(subscriberList  => {\n            return subscriberList !== subscriber;\n        });\n    }\n}\n\nexport default Observable;","/**\n * Een resultaat op het resultaten scherm.\n */\nimport Observable from \"./Observable\";\n\nclass Resultaat extends Observable{\n    /**\n     * @param url string\n     * @param naam string\n     * @param type string\n     * @param geoJson geoJson object\n     * @param color string\n     * @param objectClass string\n     */\n    constructor(url , naam, type, geoJson, color, objectClass){\n        super();\n        this._url = url;\n\n        this._naam = naam;\n        this._type = type;\n        this._geoJson = geoJson;\n        this._color = color;\n        this._objectClass = objectClass;\n\n        this._onHoverDef = undefined;\n        this._onHoverOffDef = undefined;\n    }\n\n    /**\n     * Wordt gebruikt om de rest van de attributen in te laden als je ze eerst niet hebt\n     * @param naam string\n     * @param type string\n     * @param geojson GeoJson\n     * @param color string\n     * @param objectClass string\n     */\n    setSecondProperties(naam, type, geojson, color, objectClass){\n        this._type = type;\n        this._naam = naam;\n        this._geoJson = geojson;\n        this._color = color;\n        this._objectClass = objectClass;\n\n        this.updateSubscribers();\n    }\n\n    getObjectClass(){\n        return this._objectClass;\n    }\n\n    getNaam(){\n        return this._naam;\n    }\n\n    getUrl(){\n        return this._url;\n    }\n\n    getType(){\n        return this._type;\n    }\n\n    getGeoJson(){\n        return this._geoJson;\n    }\n\n    setGeoJson(geoJson){\n        this._geoJson = geoJson;\n    }\n\n    getColor(){\n        return this._color;\n    }\n\n    /**\n     * Geeft een feature object terug met zichzelf en geojson\n     * @returns {{geometry: GeoJson, properties: Resultaat}}\n     */\n    getAsFeature(){\n        return  {\n            type: \"Feature\",\n            properties: this,\n            geometry: this._geoJson\n        }\n    }\n\n    _setOnHover(func){\n        this._onHoverDef = func;\n    }\n\n    _setOnHoverOff(func){\n        this._onHoverOffDef = func;\n    }\n\n    _onHover(){\n        if(this._onHoverDef){\n            this._onHoverDef();\n        }\n    }\n\n    _onHoverOff(){\n        if (this._onHoverOffDef) {\n            this._onHoverOffDef()\n        }\n    }\n}\n\nexport default Resultaat;","import React from 'react';\nimport Resultaat from \"../../model/Resultaat\";\n\n/**\n * Dit is het scherm dat alle gevonden resultaten laat zien\n */\nclass ResultScreen extends React.Component {\n    render() {\n        let results;\n\n        //kijk eerst of er een cluster is of niet.\n        if(this.props.res.getClickedCluster()){\n            results = this.props.res.getClickedCluster().getValues();\n        }else{\n            results = this.props.res.getRightClickedRes().length > 0 ? this.props.res.getRightClickedRes() : this.props.res.getResults();\n        }\n\n        //voor elk resultaat.\n        let elements = results.map(res => {\n            let pElementHoofd = (<p className= \"hoofdText\">&nbsp;</p>);\n            let pElementSub = (<p className= \"subText\">&nbsp;</p>);\n\n            if(res.getNaam()){\n                pElementHoofd = (<p className= \"hoofdText\">{res.getNaam()}</p>);\n            }\n\n            if(res.getType()){\n                let color;\n\n                if(res.getColor()){\n                    color = {color: this.props.getHexFromColor(res.getColor(), true)};\n                }\n\n                pElementSub = (<p className= \"subText\" style={color}>\n                    {res.getType() ? res.getType() : String.fromCharCode(32)}</p>);\n            }\n\n            return (<li key={res instanceof Resultaat ? res.getUrl() + res.getNaam() : res.getNaam + res.getValues()[0].getUrl()}\n                        className=\"liResultScreen\"\n                        onClick={() => {this.props.onClickItem(res)}}\n                        onMouseEnter={() => {res._onHover()}}\n                        onMouseLeave={() => {res._onHoverOff()}}>\n                {pElementHoofd}\n                {pElementSub}\n            </li>)\n        });\n\n        return(\n            <div className=\"homeScreen\">\n                <ul>\n                    {elements}\n                </ul>\n            </div>\n        )\n    }\n}\n\nexport default ResultScreen;","import Observable from \"./Observable\";\n\n/**\n * Dit is het object dat een waterloop of straat cluster bevat.\n */\nclass ClusterObject extends Observable{\n    /**\n     * @param naam\n     * @param type\n     * @param geoJSON van het totaal object\n     * @param values\n     * @param color\n     * @param objectClass\n     */\n    constructor(naam, type,geoJSON ,values, color, objectClass){\n        super();\n\n        this._naam = naam;\n        this._type = type;\n        this._geoJson = geoJSON;\n        this._values = values;\n        this._color = color;\n        this._objectClass = objectClass;\n\n        this._onHoverDef = undefined;\n        this._onHoverOffDef = undefined;\n    }\n\n    getColor(){\n        return this._color;\n    }\n\n    getObjectClass(){\n        return this._objectClass;\n    }\n\n    getNaam(){\n        return this._naam;\n    }\n\n    getUrl(){\n        return this._url;\n    }\n\n    getType(){\n        return this._type;\n    }\n\n    getValues(){\n        return this._values;\n    }\n\n    _setOnHover(func){\n        this._onHoverDef = func;\n    }\n\n    _setOnHoverOff(func){\n        this._onHoverOffDef = func;\n    }\n\n    _onHover(){\n        if(this._onHoverDef){\n            this._onHoverDef();\n        }\n    }\n\n    _onHoverOff(){\n        if (this._onHoverOffDef) {\n            this._onHoverOffDef()\n        }\n    }\n\n    getValuesAsFeatures() {\n        return this._values.map(res => {\n            return res.getAsFeature();\n        })\n    }\n\n    getAsFeature(){\n        return  {\n            type: \"Feature\",\n            properties: this,\n            geometry: this._geoJson\n        }\n    }\n}\n\nexport default ClusterObject;","import {\n    processSearchScreenResults,\n    processGetAllAttributes,\n    clusterObjects,\n    firstLetterCapital\n} from \"../ProcessorMethods\";\n\n/**\n * Dit is het laatst ingetype string. zorgt ervoor dat je niet vorige resultaten rendert\n * @type {string}\n */\nlet latestString = \"\";\n\n/**\n * Vind een match. Dit zoekt op exact en contains.\n * Als je het opnieuw wilt implementeren moet deze er in blijven.\n * Je zal een string krijgen die door de gebruiker ingetypte search query bevat.\n *\n * @param text de geschreven text.\n * @param url\n * @param setResFromOutside de methode om res van buitenaf te zetten. Dit is bijvoorbeeld handig met het clusteren. Je\n * moet wel \"waiting\" teruggeven als string als je dit wilt gebruiken.\n * @returns {Promise<string|undefined>} Undefined wanneer de fetch request veroudert is en een array met Resultaat.js als\n * de query nog niet veroudert is, Kan ook de string \"error\" terug krijgen. Dit is wanneer er een netwerk error is.\n */\nexport async function getMatch(text, url, setResFromOutside) {\n    //check of de gebruiker een exact only querie heeft geschreven.\n    let isExactMatch = text.match(/\".*\"/);\n    text = text.replace(/\"/g, \"\");\n\n    //update eerst de laatst ingetype string\n    latestString = text;\n\n    //doe hierna 2 queries. Eentje voor exacte match\n    let exactMatch = await queryEndpoint(nameQueryExactMatch(firstLetterCapital(text)), url);\n\n    //als de gebruiker iets nieuws heeft ingetypt geef dan undefined terug.\n    if (latestString !== text) {\n        return undefined;\n    } else if (exactMatch.status > 300) {\n        //bij een network error de string error\n        return \"error\";\n    }\n\n    //zet deze om in een array met Resultaat.js\n    exactMatch = await exactMatch.text();\n    exactMatch = await makeSearchScreenResults(JSON.parse(exactMatch), url);\n\n    //als de gebruiker alleen een exact querie wou, dan eindigt het hier.\n    if (isExactMatch) {\n        return clusterObjects(exactMatch, text, setResFromOutside);\n    }\n\n    //Doe hierna nog een query voor dingen die op de ingetypte string lijken.\n    let result = await queryEndpoint(nameQueryForRegexMatch(text, exactMatch), url);\n\n    //als de gebruiker iets nieuws heeft ingetypt geef dan undefined terug.\n    if (latestString !== text) {\n        return undefined;\n    } else if (result.status > 300) {\n        return \"error\";\n    }\n\n    //zet netwerk res om in een array met Resultaat.js\n    result = await result.text();\n    result = await makeSearchScreenResults(JSON.parse(result), url);\n\n    //voeg de arrays samen.\n    let res = mergeResults(exactMatch, result);\n\n    //cluster ze en stuur ze terug.\n    return clusterObjects(res, text, setResFromOutside);\n}\n\n/**\n * Functie die alle overige attributen ophaalt van het object.\n * De front end gebruikt deze functie voor het clicked resultaat scherm.\n *\n * Deze moet erin blijven als je het opnieuw wilt implmenteren.\n *\n * @param clickedRes een ClickedResultaat.js object die leeg is.\n * @param endpointurl\n * @returns {Promise<void>}\n */\nexport async function getAllAttribtes(clickedRes, endpointurl) {\n    /**\n     * Haal alle attributen van\n     */\n    let url = clickedRes.getUrl();\n\n    let res = await queryEndpoint(allAttributesFromUrl(url), endpointurl);\n    res = await res.text();\n    res = JSON.parse(res);\n\n    processGetAllAttributes(res, clickedRes);\n}\n\n/**\n * Maakt een lijst van Resultaat.js objecten uit de sparql query.\n * @param results\n * @param url\n * @returns {[]}\n */\nasync function makeSearchScreenResults(results, url) {\n    results = results.results.bindings;\n\n    if (results.length === 0) {\n        return [];\n    }\n\n    let string = \"\";\n    for (let i = 0; i < results.length; i++) {\n        string += `<${results[i].sub.value}>`;\n    }\n\n    let res = await queryEndpoint(queryBetterForType(string), url);\n\n    //bij een network\n    if (res.status > 300) {\n        return [];\n    }\n\n    res = await res.text();\n    res = JSON.parse(res);\n\n    return processSearchScreenResults(res, latestString);\n}\n\n/**\n * Voeg resultaten samen op basis van uri\n * @param exact\n * @param regex\n * @returns {any[] | string}\n */\nfunction mergeResults(exact, regex) {\n    exact.forEach(resexact => {\n            regex = regex.filter(resregex => {\n                return resexact.getUrl() !== resregex.getUrl();\n            });\n        }\n    );\n\n    return exact.concat(regex);\n}\n\n/**\n * Methode om sparql endpoint te querien\n * @param query\n * @param url\n * @returns {Promise<Response>}\n */\nexport async function queryEndpoint(query, url) {\n    return await fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/sparql-query',\n            'Accept': 'application/sparql-results+json'\n        },\n        body: query\n    });\n\n}\n\n/**\n * Query om alle exacte matches op te halen\n * @param query\n * @returns {string}\n */\nfunction nameQueryExactMatch(query) {\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\n            \n            SELECT distinct * WHERE {\n              {?sub brt:naamNL \"${query}\"@nl.} union {?sub brt:naam \"${query}\"@nl.} union {?sub brt:naamFries \"${query}\"@fy.} UNION {?sub brt:brugnaam \"${query}\"@nl}  UNION {?sub brt:tunnelnaam \"${query}\"@nl} UNION {?sub brt:sluisnaam \"${query}\"@nl} UNION {?sub brt:knooppuntnaam \"${query}\"@nl} UNION {?sub brt:naamOfficieel  \"${query}\"@nl} UNION {?sub brt:naamOfficieel \"${query}\"@fy}\n            }\n            LIMIT 1000\n`\n}\n\n/**\n * Query om all regex matches op te halen.\n * @param queryString\n * @param exactvalues\n * @returns {string}\n */\nfunction nameQueryForRegexMatch(queryString, exactvalues) {\n    let uris = [];\n    exactvalues.forEach(res => {\n        uris.push(\"<\" + res.getUrl() + \">\");\n    });\n\n    uris = uris.join(\",\");\n\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\n            \n            SELECT distinct ?sub WHERE {\n            { ?sub brt:naam ?label } UNION { ?sub brt:naamNL ?label } UNION {?sub brt:naamFries ?label} UNION {?sub brt:brugnaam ?label}  UNION {?sub brt:tunnelnaam ?label} UNION {?sub brt:sluisnaam ?label} UNION {?sub brt:knooppuntnaam ?label} UNION {?sub brt:naamOfficieel ?label}.\n              \n              filter( ?sub not IN(${uris})).\n              FILTER(REGEX(?label, \"${queryString}\", \"i\")).\n            }\n            LIMIT 1000\n            `\n}\n\n/**\n * Query om alle type en overige attributen op te halen van de eerder opgehaalde resultaten.\n * @param values\n * @returns {string}\n */\nexport function queryBetterForType(values) {\n    return `\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n    PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\n    PREFIX geo: <http://www.opengis.net/ont/geosparql#>\n    \n    SELECT * WHERE {\n        VALUES ?s {\n           ${values}\n        }\n        ?s a ?type.\n        \n  Optional{?s brt:naam ?naam.}.\n  Optional{?s brt:naamNL ?naamNl.}.\n  Optional{?s brt:naamFries ?naamFries}.\n  Optional{?s brt:knooppuntnaam ?knooppuntnaam.}.\n  Optional{?s brt:sluisnaam ?sluisnaam.}.\n  Optional{?s brt:tunnelnaam ?tunnelnaam}.\n  Optional{?s brt:brugnaam ?brugnaam.}.\n  Optional{?s brt:naamOfficieel ?offnaam.}.\n  Optional{?s geo:hasGeometry/geo:asWKT ?wktJson}.\n  }\n`\n}\n\n/**\n * Haal alle attributen van een object op.\n * @param namedNode\n * @returns {string}\n */\nfunction allAttributesFromUrl(namedNode) {\n    return `PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n            SELECT * WHERE {\n                <${namedNode}> ?prd ?obj.\n            }`\n}\n","import {clusterObjects, processSearchScreenResults} from \"../ProcessorMethods\";\nimport {queryEndpoint, queryBetterForType} from './CommunicatorSPARQL';\n\nlet latestString;\n\nexport async function getMatch(text,labsURL ,setResFromOutside) {\n    //update eerst de laatst ingetype string\n    latestString = text;\n\n    let res = await queryESDLK(text);\n\n    //als de gebruiker iets nieuws heeft ingetypt geef dan undefined terug.\n    if (latestString !== text) {\n        return undefined;\n    } else if (res.status > 300) {\n        //bij een network error de string error\n        return \"error\";\n    }\n\n    res = await res.text();\n    res = JSON.parse(res);\n\n    res = await makeSearchScreenResults(res, labsURL);\n    return clusterObjects(res, text, setResFromOutside);\n}\n\n/**\n * maakt van een lijst van Result.js objecten uit de sparql query.\n * @param results\n * @param labsURL url van data.labs.kadaster.nl voor het sparql endpoint\n * @returns {[]}\n */\nasync function makeSearchScreenResults(results, labsURL) {\n    results = results.hits.hits;\n\n    if(results.length === 0){\n        return [];\n    }\n\n    let string = \"\";\n    for (let i = 0; i < results.length; i++) {\n        string += `<${results[i]._id}>`;\n    }\n\n    let res = await queryEndpoint(queryBetterForType(string), labsURL);\n\n    //bij een network error\n    if (res.status > 300) {\n        return [];\n    }\n\n    res = await res.text();\n    res = JSON.parse(res);\n\n    return processSearchScreenResults(res, latestString);\n}\n\n/**\n * Queriet de data.labs.kadaster.nl elastic search endpoint.\n * @param query\n * @returns {Promise<Response>}\n */\nasync function queryESDLK(query) {\n    return await fetch(`https://api.labs.kadaster.nl/datasets/kadaster/brt/services/search/search?query=${query}`, {\n        method: 'GET'\n    });\n}","import Resultaat from \"../../model/Resultaat\";\nimport * as wellKnown from \"wellknown\";\nimport * as PreProcessor from \"../ProcessorMethods\";\nimport {clusterObjects, sortByGeoMetryAndName} from \"../ProcessorMethods\";\n\n/**\n * Haalt dingen op aan de hand van de gegeven coordinaten.\n *\n * @param lat waar geklikt is\n * @param long waar geklikt is\n * @param top van de kaart frame\n * @param left van de kaart frame\n * @param bottom van de kaart frame\n * @param right van de kaart frame\n * @param setResFromOutside met deze methode kan je de resultaten van buiten de app zetten. Je moet wel \"waiting\" als string\n * terug geven.\n * @returns {Promise<string|[]>} of een string met \"error\" of \"waiting\". Of een array met res. Kan ook undefined.\n */\nexport async function getFromCoordinates(lat, long, top, left, bottom, right, setResFromOutside) {\n    //check of de gebruiker te ver is uitgezoomd. Zet dan je eigen coordinaten.\n    if (right - left > 0.05 || top - bottom > 0.0300) {\n        left = long - 0.025;\n        right = long + 0.025;\n        top = lat + 0.01500;\n        bottom = lat - 0.01500;\n    }\n\n    //haal alle niet straten op.\n    let nonstreets = await queryTriply(queryForCoordinatesNonStreets(top, left, bottom, right));\n\n    if (nonstreets.status > 300) {\n        //bij een network error de string error\n        return \"error\";\n    }\n\n    //Zet deze om in een array met Resultaat.js\n    nonstreets = await nonstreets.text();\n    nonstreets = await makeSearchScreenResults(JSON.parse(nonstreets));\n\n    //De straten worden in een kleinere straal opgehaald dus doe hier de berekeningen.\n    let factor = 0.33;\n\n    let stop = lat - 0.0022804940130103546;//((top - bottom) / 2) * factor;\n    let sbottom = lat + 0.0022804940130103546;//((top - bottom) / 2) * factor;\n    let sright = long + 0.0033634901046750002;//((right - left) / 2) * factor;\n    let sleft = long - 0.0033634901046750002;//((right - left) / 2) * factor;\n\n    let streets = await queryTriply(queryForCoordinatesStreets(stop, sleft, sbottom, sright));\n    if (streets.status > 300) {\n        //bij een network error de string error\n        return clusterObjects(nonstreets, undefined, setResFromOutside);\n    }\n\n    //Zet deze om in een array met Resultaat.js\n    streets = await streets.text();\n    streets = await makeSearchScreenResults(JSON.parse(streets));\n\n    //voeg de resultaten samen en cluster de waterlopen en straten.\n    nonstreets = mergeResults(streets, nonstreets);\n    return clusterObjects(nonstreets, undefined, setResFromOutside);\n}\n\n/**\n * Voeg resultaten samen door de uris met elkaar te vergelijken.\n * @param exact\n * @param regex\n * @returns {any[] | string}\n */\nfunction mergeResults(exact, regex) {\n    exact.forEach(resexact => {\n            regex = regex.filter(resregex => {\n                return resexact.getUrl() !== resregex.getUrl();\n            });\n        }\n    );\n\n    return exact.concat(regex);\n}\n\n/**\n * Zet de sparql json resulaten om in een Resultaat.js array\n * @param results\n * @returns {Promise<string|[]>}\n */\nasync function makeSearchScreenResults(results) {\n    results = results.results.bindings;\n    let returnObject = [];\n\n    //maak de query\n    let string = \"\";\n    for (let i = 0; i < results.length; i++) {\n        string += `<${results[i].sub.value}>`;\n    }\n\n    let res = await queryTriply(queryBetterForType(string));\n\n    if (res.status > 300) {\n        //bij een network error, lege array\n        return [];\n    }\n\n    //verwerk de query\n    res = await res.text();\n    res = JSON.parse(res);\n    res = res.results.bindings;\n\n    // De query zorgt ervoor dat meerdere keren hetzelfde object wordt terug gegeven. Hierdoor moet je ze bij elkaar rapen\n    // De key voor de map is de linked data url\n    let map = new Map();\n\n    for (let i = 0; i < res.length; i++) {\n        let value = res[i].s.value;\n\n        if (map.has(value)) {\n            map.get(value).push(res[i]);\n        } else {\n            map.set(value, [res[i]]);\n        }\n    }\n\n    /**\n     * Voor elke object\n     */\n    map.forEach((valueMap, key, map) => {\n        let naam, type, geoJson, color, objectClass;\n\n        //dit sorteert de resultaten op gemeomety en dan naam.\n        //dus bijv Polygoon voor linestring\n        sortByGeoMetryAndName(valueMap);\n\n        let fO = valueMap[0];\n\n        //Kijk eerst of het een brug of etc naam is.\n        if (fO.brugnaam || fO.tunnelnaam || fO.sluisnaam || fO.knooppuntnaam) {\n            if (fO.brugnaam) {\n                naam = fO.brugnaam.value;\n            } else if (fO.tunnelnaam) {\n                naam = fO.tunnelnaam.value;\n            } else if (fO.sluisnaam) {\n                naam = fO.sluisnaam.value;\n            } else {\n                naam = fO.knooppuntnaam.value;\n            }\n\n            naam = naam.replace(/\\|/g, \"\");\n            //anders off naam eerst\n        } else if (fO.offnaam) {\n            naam = fO.offnaam.value;\n            //anders friese naam eerst\n        } else if (fO.naamFries) {\n            naam = fO.naamFries.value;\n            //anders naam nl eerst\n        } else if (fO.naamNl) {\n            naam = fO.naamNl.value;\n            //anders de gewone naam eerst\n        } else if (fO.naam) {\n            naam = fO.naam.value;\n        }\n\n        //krijg de type\n        if (fO.type !== undefined) {\n            let indexes = [];\n\n            //Raap eerst alle types bij elkaar\n            //krijg dan de stipped url en dan de meest speciefieke type\n            //Dus Sporthal komt voor Gebouw want Sporthal is specefieker.\n            for (let j = 0; j < valueMap.length; j++) {\n                let value = PreProcessor.stripUrlToType(valueMap[j].type.value);\n                let index = PreProcessor.getIndexOfClasses(value);\n                indexes.push({index: index, type: value});\n            }\n\n            //sorteer daarna op of welke het meest speciefiek is.\n            indexes.sort((a, b) => {\n                return a.index - b.index;\n            });\n\n            //pak de meest speciefieke als type\n            let value = indexes[0].type;\n            type = PreProcessor.seperateUpperCase(value);\n\n            //De minst speciefieke wordt de object klasse.\n            objectClass = PreProcessor.seperateUpperCase(indexes[indexes.length - 1].type);\n\n            //pak een kleur op basis van het type.\n            color = PreProcessor.getColor(indexes[indexes.length - 1].type);\n        }\n\n        //de wkt naar geojson\n        if (fO.wktJson !== undefined) {\n            let wktJson = fO.wktJson.value;\n            geoJson = wellKnown.parse(wktJson);\n        }\n\n        //maak een Resultaat object en push deze naar de array.\n        let resultaatObj = new Resultaat(key, naam, type, geoJson, color, objectClass);\n        returnObject.push(resultaatObj);\n    });\n\n    return returnObject;\n}\n\n/**\n * Dit is een methode die het sparql endpoint van triply queriet.\n * @param query string met query\n * @returns {Promise<Response>}\n */\nasync function queryTriply(query) {\n    return await fetch(\"https://api.labs.kadaster.nl/datasets/kadaster/brt/services/brt/sparql\", {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/sparql-query',\n            'Accept': 'application/sparql-results+json'\n        },\n        body: query\n    });\n}\n\n/**\n * Query die heel veel values in n keer ophaalt.\n * @param values\n * @returns {string}\n */\nfunction queryBetterForType(values) {\n    return `\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n    PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\n    PREFIX geo: <http://www.opengis.net/ont/geosparql#>\n    \n    SELECT * WHERE {\n        VALUES ?s {\n           ${values}\n        }\n        ?s a ?type\n        \n  Optional{?s brt:naam ?naam.}.\n  Optional{?s brt:naamNL ?naamNl.}.\n  Optional{?s brt:naamFries ?naamFries}.\n  Optional{?s brt:knooppuntnaam ?knooppuntnaam.}.\n  Optional{?s brt:sluisnaam ?sluisnaam.}.\n  Optional{?s brt:tunnelnaam ?tunnelnaam}.\n  Optional{?s brt:brugnaam ?brugnaam.}.\n  Optional{?s brt:naamOfficieel ?offnaam.}.\n  Optional{?s geo:hasGeometry/geo:asWKT ?wktJson}.\n  }\n`\n}\n\n/**\n * Query die aan de hand van coordinaten niet straten ophaalt.\n * @param top\n * @param left\n * @param bottom\n * @param righ\n * @returns {string}\n */\nfunction queryForCoordinatesNonStreets(top, left, bottom, righ) {\n    return `PREFIX geo: <http://www.opengis.net/ont/geosparql#>\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\n\n            select distinct ?sub{\n            {\n                ?sub brt:naam ?label;\n                 geo:hasGeometry/geo:asWKT ?xShape.\n              } UNION {\n                ?sub brt:naamNL ?label;\n                     geo:hasGeometry/geo:asWKT ?xShape.\n              }UNION {\n                ?sub brt:naamFries ?label;\n                     geo:hasGeometry/geo:asWKT ?xShape.\n              }UNION {\n                ?sub brt:naamOfficieel ?label;\n                     geo:hasGeometry/geo:asWKT ?xShape.\n              }\n                BIND(bif:st_geomfromtext(\"POLYGON ((${left} ${bottom}, ${left} ${top}, ${righ} ${top}, ${righ} ${bottom}))\") as ?yShape).\n                filter(bif:st_intersects(?xShape, ?yShape))\n                filter not exists{\n                    ?sub a brt:Wegdeel\n                }\n            }\n            limit 300\n            `\n}\n\n/**\n * Query die aan de hand van coordinaten straten ophaalt.\n * @param top\n * @param left\n * @param bottom\n * @param righ\n * @returns {string}\n */\nfunction queryForCoordinatesStreets(top, left, bottom, righ) {\n    return `PREFIX geo: <http://www.opengis.net/ont/geosparql#>\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\n\n            select distinct ?sub{\n            {\n                ?sub brt:naam ?label;\n                 geo:hasGeometry/geo:asWKT ?xShape;\n                     a brt:Wegdeel.\n              } UNION {\n                ?sub brt:naamNL ?label;\n                     geo:hasGeometry/geo:asWKT ?xShape;\n                     a brt:Wegdeel.\n              }UNION {\n                ?sub brt:naamFries ?label;\n                     geo:hasGeometry/geo:asWKT ?xShape;\n                     a brt:Wegdeel.\n              }UNION {\n                ?sub brt:naamOfficieel ?label;\n                     geo:hasGeometry/geo:asWKT ?xShape;\n                     a brt:Wegdeel.\n              }\n                BIND(bif:st_geomfromtext(\"POLYGON ((${left} ${bottom}, ${left} ${top}, ${righ} ${top}, ${righ} ${bottom}))\") as ?yShape).\n                filter(bif:st_intersects(?xShape, ?yShape))\n                \n            }\n            limit 150\n            `\n}","/**\n * Dit is de class die verschillende endpoints kan bevragen. Als je maar n endpoint hebt raad ik het aan om alle logica\n * voor de communicatie hier te implementeren. De rest kan je verwijderen.\n */\nimport * as CommunicatorSPARQL from './Communicators/CommunicatorSPARQL';\nimport * as ClickedCommunicator from './Communicators/ClickedCommunicator';\nimport * as CommunicatorELASTICSEARCH from \"./Communicators/CommunicatorELASTICSEARCH\";\n\nconst labsURL = \"https://api.labs.kadaster.nl/datasets/kadaster/brt/services/brt/sparql\";\nconst pdokURL = \"https://data.pdok.nl/sparql\";\n\n/**\n * Laatste string waar op is gezocht\n * @type {string}\n */\nlet latestString = \"\";\n\n/**\n * Laatste methode waarmee is gezocht\n * @type {string}\n */\nlet latestMethod = \"\";\n\n/**\n * Geeft de options voor backends terug, als er maar n optie wordt meegegeven wordt de tandwiel linksonder niet meer getoond.\n * @returns {[{description: string, text: string, value: string}]}\n */\nexport function getOptions() {\n    return [\n        {value: 'tsp', text: 'Kadaster Labs SPARQL', description: \"snel\"},\n        // {value: 'psp', text: 'PDOK SPARQL', description: \"meest actueel\"},\n        // {value: 'tes', text: 'Kadaster Labs Elasticsearch', description: \"snelste\"},\n    ];\n}\n\n/**\n * Deze wordt aangeroepen wanneer de gebruiker iets in het zoekveld typt\n *\n * @param text: gezochte tekst\n * @param method: de methode waarmee is gezocht\n * @param setResFromOutside methode om vanaf de buitenkant de resultaat te zetten.\n * @returns {Promise<string|undefined>}\n */\nexport async function getMatch(text, method, setResFromOutside) {\n    latestString = text;\n    latestMethod = method;\n    let res;\n\n    //query op basis van de methode die de gebruiker gespecificeerd heeft.\n    if (method === \"tsp\") {\n        res = await CommunicatorSPARQL.getMatch(text, labsURL, setResFromOutside);\n    } else if (method === \"psp\") {\n        res = await CommunicatorSPARQL.getMatch(text, pdokURL, setResFromOutside);\n    } else {\n        res = await CommunicatorELASTICSEARCH.getMatch(text, labsURL, setResFromOutside);\n    }\n\n    //als het of een error is en als de laatste methode en gezochte string overeenkomen. geef dan het resultaat terug.\n    if ((text === latestString && latestMethod === method) || res === \"error\") {\n        return res;\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Functie die alle overige attributen ophaalt van het object.\n * De front end gebruikt deze functie voor het clicked resultaat scherm.\n *\n * Deze moet erin blijven als je het opnieuw wilt implmenteren.\n *\n * @param clickedRes een ClickedResultaat.js object die leeg is.\n * @returns {Promise<void>} verwacht niets terug maar moet wel de clickedRes vullen met de loadInAttributes van de ClickedRes.js\n */\nexport async function getAllAttribtes(clickedRes) {\n    if (latestMethod === \"tsp\") {\n        await CommunicatorSPARQL.getAllAttribtes(clickedRes, labsURL);\n    } else if (latestMethod === \"psp\") {\n        await CommunicatorSPARQL.getAllAttribtes(clickedRes, pdokURL);\n    } else {\n        await CommunicatorSPARQL.getAllAttribtes(clickedRes, labsURL);\n    }\n}\n\n/**\n * Deze functie wordt aangeroepen wanneer de gebruiker recht klikt op de kaart.\n *\n * @param lat de latitude van het geklikt punt\n * @param long de longitude van het geklikt punt\n * @param top van het kaart scherm\n * @param left van het kaart scherm\n * @param bottom van het kaart scherm\n * @param right van het kaart scherm\n * @param setResFromOutside\n * @returns {Promise<string|*[]|undefined>} Verwacht een lijst met Resultaat.js objecten terug\n */\nexport async function getFromCoordinates(lat, long, top, left, bottom, right, setResFromOutside) {\n    latestString = undefined;\n    latestMethod = \"tsp\";\n\n    let res = await ClickedCommunicator.getFromCoordinates(lat, long, top, left, bottom, right, setResFromOutside);\n\n    //als de gebruiker iets anders heeft opgezocht geef dan undefined terug.\n    if (latestString === undefined) {\n        return res;\n    } else {\n        return undefined;\n    }\n}","import React from 'react';\nimport * as Communicator from '../../network/Communicator';\n\n/**\n * Dit is het scherm dat het geklikte object laat zien.\n */\nclass ObjectScreen extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            res: undefined\n        }\n    }\n\n    componentDidMount() {\n        this.getNamenGegevens(this.props.clickedResult);\n    }\n\n    /**\n     * Haal alle gegevens op van de clickedResult.\n     * @param url\n     */\n    getNamenGegevens = (url) => {\n        if (url) {\n            Communicator.getAllAttribtes(this.props.clickedResult).then(res => {\n                this.setState({\n                    res: this.props.clickedResult\n                })\n            });\n        }\n    };\n\n    render() {\n        let res = this.state.res;\n        let naam;\n        let type;\n        let tableNamen;\n        let tableRest;\n\n        if (res) {\n            if(res.getNaam()){\n                naam = (<h1>{res.getNaam()}</h1>);\n            }else{\n                if(res.getTunnelNaam()){\n                    naam = (<h1>{res.getTunnelNaam()}</h1>);\n                }else if(res.getKnooppuntNaam()){\n                    naam = (<h1>{res.getKnooppuntNaam()}</h1>);\n                }else if(res.getBrugNaam()){\n                    naam = (<h1>{res.getBrugNaam()}</h1>);\n                }else if(res.getSluisNaam()){\n                    naam = (<h1>{res.getSluisNaam()}</h1>);\n                }\n            }\n\n            let color;\n\n            if(res.getColor()){\n                color = {color: this.props.getHexFromColor(res.getColor(), true)};\n            }\n\n            type = (<h3 style={color}>{res.getTypeString()}</h3>);\n\n            let naamNl;\n            let naamFries;\n            let naamOfficeel;\n            let brugnaam;\n            let sluisnaam;\n            let knooppuntnaam;\n            let tunnelnaam;\n\n            if (res.getNaamFries()) {\n                naamFries = (\n                    <tr>\n                        <td><b>Naam Fries:</b></td>\n                        <td>{res.getNaamFries()}</td>\n                    </tr>\n                )\n            }\n\n            if(res.getNaamOfficieel()){\n                naamOfficeel = (\n                    <tr>\n                        <td><b>Naam officieel:</b></td>\n                        <td>{res.getNaamOfficieel()}</td>\n                    </tr>\n                )\n            }\n\n            if (res.getNaamNl()) {\n                naamNl = (\n                    <tr>\n                         <td><b>Naam Nederlands:</b></td>\n                         <td>{res.getNaamNl()}</td>\n                     </tr>\n                )\n            }\n\n            if (res.getTunnelNaam()) {\n                tunnelnaam = (\n                    <tr>\n                        <td><b>Tunnel naam:</b></td>\n                        <td>{res.getTunnelNaam()}</td>\n                    </tr>\n                )\n            }\n\n            if (res.getBrugNaam()) {\n                brugnaam = (\n                    <tr>\n                        <td><b>Brug naam:</b></td>\n                        <td>{res.getBrugNaam()}</td>\n                    </tr>\n                )\n            }\n\n            if (res.getSluisNaam()) {\n                sluisnaam = (\n                    <tr>\n                        <td><b>Sluis naam:</b></td>\n                        <td>{res.getSluisNaam()}</td>\n                    </tr>\n                )\n            }\n\n            if (res.getKnooppuntNaam()) {\n                knooppuntnaam = (\n                    <tr>\n                        <td><b>Knooppunt naam:</b></td>\n                        <td>{res.getKnooppuntNaam()}</td>\n                    </tr>\n                )\n            }\n\n            tableNamen = (\n                <div>\n                    <table className=\"namenTable\">\n                        <tbody>\n                            {naamOfficeel}\n                            {naamNl}\n                            {naamFries}\n                            {tunnelnaam}\n                            {brugnaam}\n                            {sluisnaam}\n                            {knooppuntnaam}\n                        </tbody>\n                    </table>\n                    <hr/>\n                </div>\n            );\n\n            let attributes = res.getAttributes().map(res => {\n                let value = res.value;\n\n                if(value.startsWith(\"http://\")){\n                    value = (<a href={value} target=\"_blank\" rel = \"noreferrer noopener\">{value}</a>);\n                }\n\n                return (<tr key = {res.key + res.value}>\n                    <td>{res.key}</td>\n                    <td>{value}</td>\n                </tr>)\n            });\n\n            tableRest = (\n                <table className=\"attributeSectionObjectScreen\">\n                    <tbody>\n                    {attributes}\n                    </tbody>\n                </table>\n            )\n        }\n\n        return (\n            <div className=\"objectScreen\">\n                {naam}\n                {type}\n                {tableNamen}\n                {tableRest}\n            </div>\n        )\n    }\n}\n\nexport default ObjectScreen;","import React from 'react';\nimport {Route, Switch} from 'react-router-dom';\n\nimport StartScreen from \"./pages/StartScreen\";\nimport ResultScreen from \"./pages/ResultScreen\";\nimport ObjectScreen from \"./pages/ObjectScreen\";\n\nclass Routes extends React.Component {\n    render() {\n        let router2;\n\n        //kijk eerst of er een clicked cluster is.\n        if(this.props.res.getClickedCluster()){\n            router2 = (<Route\n                exact path=\"/result/:id\"\n                render={(props) => <ResultScreen res={this.props.res}\n                                                 onClickItem={this.props.onClickItem}\n                                                 getHexFromColor={this.props.getHexFromColor}/>}\n            />)\n        }else{\n            router2 = (<Route\n                exact path=\"/result/:id\"\n                render={(props) => <ObjectScreen clickedResult=\n                                                     {this.props.clickedResult}\n                                                 getHexFromColor={this.props.getHexFromColor}/>}\n            />)\n        }\n\n\n        return (\n            <Switch>\n                <Route exact path=\"/\" component={StartScreen}/>\n                <Route\n                    exact path=\"/result\"\n                    render={(props) => <ResultScreen res={this.props.res}\n                                                     onClickItem={this.props.onClickItem}\n                                                     getHexFromColor={this.props.getHexFromColor}/>}\n                />\n                {router2}\n                <Route\n                    exact path=\"/result/:id/:idd\"\n                    render={(props) => <ObjectScreen clickedResult=\n                                                         {this.props.clickedResult}\n                                                     getHexFromColor={this.props.getHexFromColor}/>}\n                />\n            </Switch>\n        )\n    }\n}\n\nexport default Routes;","import React from 'react';\nimport {Route, Switch} from 'react-router-dom';\n\n/**\n * De bar met <-- terug en het aantal zoekresultaten.\n */\nclass NavBar extends React.Component{\n    render() {\n        return(\n            <Switch>\n                <Route exact path=\"/\"\n                       render={(props) => <EmptyBar loading = {this.props.loading}\n                                                    aantalZoekResultaten = {this.props.aantalZoekResultaten}/>}\n                />\n                <Route\n                    render={(props) => <BackButton loading = {this.props.loading} onBack = {this.props.onBack}\n                                                   aantalZoekResultaten = {this.props.aantalZoekResultaten}/>}\n                />\n            </Switch>\n        )\n    }\n}\n\nfunction EmptyBar(props){\n    let class_ = \"nonLoadingButton\";\n\n    if( props.loading){\n        class_ = \"loadingButton\";\n    }\n\n    return (\n        <div className={\"backButton  \" + class_}><p>&nbsp;</p></div>\n    )\n}\n\nfunction BackButton(props){\n    let class_ = \"nonLoadingButton\";\n\n    if( props.loading){\n        class_ = \"loadingButton\";\n    }\n\n    return (\n        <div className={\"backButton cursorPointer \" + class_} onClick={props.onBack}><span>&larr; Terug</span>\n            <span style={{float: \"right\"}}>{props.aantalZoekResultaten}</span>\n        </div>\n    )\n}\n\nexport default NavBar;","import React from 'react';\nimport {BarLoader} from \"react-spinners\";\n\n/**\n * Het kleine laadbalkje aan de boven kant van het resultaten stukje, en boven de kaart\n */\nclass Loader extends React.Component{\n    render() {\n        return(\n            <BarLoader\n                loading = {this.props.loading}\n                width = {\"100%\"}\n                color = {\"#6495ED\"}\n                height = {4}\n            />\n        )\n    }\n}\n\nexport default Loader;","/**\n * Houdt resultaat bij. Update de app als er iets verandert.\n */\nimport Observable from \"./Observable\";\nimport {isShownClickedResults, sortByObjectClass} from \"../network/ProcessorMethods\";\nimport ClusterObject from \"./ClusterObject\";\n\nclass ResultatenHouder extends Observable {\n    constructor() {\n        super();\n\n        this._results = [];\n        this._rightClickedResults = [];\n        this._clickedResult = undefined;\n        this._clickedCluster = undefined;\n    }\n\n    setClickedCluster(clickedCluster){\n        if(this._clickedCluster){\n            this._clickedCluster.unsubscribe(this);\n        }\n\n        this._clickedCluster = clickedCluster;\n        this._clickedCluster.subscribe(this);\n\n        this.updateSubscribers();\n    }\n\n    getClickedCluster(){\n        return this._clickedCluster;\n    }\n\n    clearClickedCluster(){\n        if(this._clickedCluster){\n            this._clickedCluster.unsubscribe(this);\n            this._clickedCluster = undefined;\n            this.updateSubscribers();\n        }\n    }\n\n    /**\n     * Zet een clickedresultaat en subscribe aan deze\n     * @param clicked\n     */\n    setClickedResult(clicked) {\n        if(this._clickedResult){\n            this._clickedResult.unsubscribe(this);\n        }\n\n        this._clickedResult = clicked;\n        this._clickedResult.subscribe(this);\n        this.updateSubscribers();\n    }\n\n    getClickedResult() {\n        return this._clickedResult;\n    }\n\n    /**\n     * undefine de clicked resultaat en unsubscribe\n     */\n    clearClickedResult() {\n        if (this._clickedResult) {\n            this._clickedResult.unsubscribe(this);\n            this._clickedResult = undefined;\n            this.updateSubscribers();\n        }\n    }\n\n    /**\n     * Clear alle resultaten en unsubscribe van all deze\n     */\n    clearAll() {\n        //geklikt resultaat\n        if (this._clickedResult) {\n            this._clickedResult.unsubscribe(this);\n            this._clickedResult = undefined;\n        }\n\n        //geklikte cluster\n        if(this._clickedCluster){\n            this._clickedCluster.unsubscribe(this);\n            this._clickedCluster = undefined;\n        }\n\n        //gezochte resultaten\n        this._results.forEach(res => {\n            res.unsubscribe(this);\n        });\n        this._results = [];\n\n        //rechts gezochte resultaten.\n        this._rightClickedResults.forEach(res => {\n            res.unsubscribe(this);\n        });\n        this._rightClickedResults = [];\n\n        this.updateSubscribers();\n    }\n\n    /**\n     * Zet results en subscribe aan al deze\n     * @param results\n     */\n    setResults(results) {\n        this._results.forEach(res => {\n            res.unsubscribe(this);\n        });\n\n        results.forEach(res => {\n            res.subscribe(this);\n        });\n\n        this._results = results;\n        this.updateSubscribers();\n    }\n\n    getResults() {\n        return this._results;\n    }\n\n    /**\n     * Clear de resultaten\n     */\n    clearResults() {\n        if (this._results.length > 0) {\n            this._results.forEach(res => {\n                res.unsubscribe(this);\n            });\n\n            this._results = [];\n\n            this.updateSubscribers();\n        }\n    }\n\n    /**\n     * Zet results en subscribe aan al deze\n     * @param results\n     */\n    setDoubleResults(results) {\n        this._rightClickedResults.forEach(res => {\n            res.unsubscribe(this);\n        });\n\n        results.forEach(res => {\n            res.subscribe(this);\n        });\n\n        this._rightClickedResults = results;\n\n        this.updateSubscribers();\n    }\n\n    getRightClickedRes() {\n        return this._rightClickedResults;\n    }\n\n    /**\n     * Clear de resultaten\n     */\n    clearDoubleResults() {\n        if (this._rightClickedResults.length > 0) {\n            this._rightClickedResults.forEach(res => {\n                res.unsubscribe(this);\n            });\n\n            this._rightClickedResults = [];\n\n            this.updateSubscribers();\n        }\n    }\n\n    update() {\n        this.updateSubscribers();\n    }\n\n    /**\n     * Krijg alle resultaten behalve clicked resultaat als feature terug.\n     * @returns {[Feature]}\n     */\n    getSearchedAllObjectsAsFeature() {\n        let geojson = [];\n\n        this._results.forEach(res => {\n            if (res instanceof ClusterObject) {\n                geojson.push(res.getAsFeature());\n            } else if (res.getGeoJson()) {\n                geojson.push(res.getAsFeature());\n            }\n        });\n\n        sortByObjectClass(geojson);\n\n        return geojson;\n    }\n\n    getClickedAllObjectsAsFeature() {\n        let geojson = [];\n\n        this._rightClickedResults.forEach(res => {\n            if (res instanceof ClusterObject) {\n                geojson.push(res.getAsFeature());\n            }else if (res.getGeoJson() && isShownClickedResults(res)) {\n                geojson.push(res.getAsFeature());\n            }\n        });\n\n        sortByObjectClass(geojson);\n\n        return geojson;\n    }\n}\n\nexport default ResultatenHouder;","/**\n * Het resultaat dat aangeklikt is.\n * Kan op twee manieren gegevens in laden. Met de constructor of de methode loadInAttributes.\n */\nimport Observable from \"./Observable\";\n\nclass ClickedResultaat extends Observable {\n    /**\n     *\n     * @param res het resultaat dat is aangeklikt\n     * @param naam\n     * @param naamOfficieel\n     * @param naamNl\n     * @param naamFries\n     * @param types [] van types\n     * @param overige [{key: string, value: string}] van overige attributen\n     * @param brugNaam\n     * @param tunnelNaam\n     * @param sluisNaam\n     * @param knooppuntNaam\n     */\n    constructor(res, naam, naamOfficieel, naamNl, naamFries, types, overige, brugNaam, tunnelNaam, sluisNaam, knooppuntNaam) {\n        super();\n\n        this._res = res;\n        this._naam = naam;\n        this._naamOfficieel = naamOfficieel;\n        this._naamNL = naamNl;\n        this._naamFries = naamFries;\n        this._brugNaam = brugNaam;\n        this._tunnelNaam = tunnelNaam;\n        this._sluisNaam = sluisNaam;\n        this._knoopPuntNaam = knooppuntNaam;\n\n        //types is een array, je kan meerdere dingen toevoegen.\n        if (types) {\n            this._types = types;\n        } else {\n            this._types = [];\n        }\n\n        if (overige) {\n            this._overige = overige;\n            let url = this._res.getUrl();\n            this._overige.unshift({key: \"BRT link\", value: url})\n        } else {\n            this._overige = [];\n        }\n\n        if (this._naam === undefined) {\n            if (this._naamOfficieel !== undefined) {\n                this._naam = naamOfficieel;\n            } else if (this._naamFries !== undefined) {\n                this._naam = this._naamFries;\n            } else {\n                this._naam = this._naamNL;\n            }\n        }\n    }\n\n    getNaamFries() {\n        return this._naamFries;\n    }\n\n    getNaamNl() {\n        return this._naamNL;\n    }\n\n    getColor(){\n        return this._res.getColor();\n    }\n\n    /**\n     * @param naam\n     * @param naamOfficieel\n     * @param naamnl\n     * @param naamfries\n     * @param type [] van types\n     * @param overige [{key: string, value: string}] van overige attributen\n     * @param brugNaam\n     * @param tunnelNaam\n     * @param sluisNaam\n     * @param knooppuntNaam\n     */\n    loadInAttributes(naam, naamOfficieel, naamnl, naamfries, type, overige, brugNaam, tunnelNaam, sluisNaam, knooppuntNaam) {\n        this._naam = naam;\n        this._naamOfficieel = naamOfficieel;\n        this._naamNL = naamnl;\n        this._naamFries = naamfries;\n        this._types = type;\n        this._overige = overige;\n        this._brugNaam = brugNaam;\n        this._tunnelNaam = tunnelNaam;\n        this._sluisNaam = sluisNaam;\n        this._knoopPuntNaam = knooppuntNaam;\n\n        let url = this._res.getUrl();\n        this._overige.unshift({key: \"brt link\", value: url});\n\n        if (this._naam === undefined) {\n            if (this._naamOfficieel !== undefined) {\n                this._naam = this._naamOfficieel;\n            } else if (this._naamFries !== undefined) {\n                this._naam = this._naamFries;\n            } else {\n                this._naam = this._naamNL;\n            }\n        }\n\n        this.updateSubscribers();\n    }\n\n    getNaamOfficieel() {\n        return this._naamOfficieel;\n    }\n\n    getUrl() {\n        return this._res.getUrl();\n    }\n\n    getNaam() {\n        return this._naam;\n    }\n\n    getAsFeature() {\n        return this._res.getAsFeature();\n    }\n\n    getTypeString() {\n        return this._types.join(\", \");\n    }\n\n    getAttributes() {\n        return this._overige;\n    }\n\n    getTunnelNaam(){\n        return this._tunnelNaam;\n    }\n\n    getSluisNaam(){\n        return this._sluisNaam;\n    }\n\n    getBrugNaam(){\n        return this._brugNaam;\n    }\n\n    getKnooppuntNaam(){\n        return this._knoopPuntNaam;\n    }\n\n    getRes(){\n        return this._res;\n    }\n}\n\nexport default ClickedResultaat;","import L from \"leaflet\";\nimport MarkerGold from \"../assets/GoldMarker.png\";\nimport MarkerShadow from \"../assets/marker-shadow.png\";\n\n/**\n * Dit is de goude leaflet icoon\n */\nexport const Icons = new L.Icon.Default({\n    iconUrl: MarkerGold,\n    iconRetinaUrl : MarkerGold,\n    imagePath: \" \",\n    shadowUrl : MarkerShadow});\n\n/**\n * Dit is de default leaflet icoon\n */\nexport const DefaultIcon = new L.Icon.Default();\n","import React from 'react';\nimport './style/ContextMenu.scss'\nimport _ from 'lodash';\n\n/**\n * Dit is het menu dat tervoorschijn komt om de laag te selecteren waar je naar toe wilt.\n */\nclass ContextMenu extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            widthPage: 0,\n            heightPage: 0,\n        }\n    }\n\n    componentDidMount() {\n        //Kijk wat de hoogte en breedte is van de pagina wanneer deze component tevoorschijn komt.\n        this.updateWindowDimensions();\n\n        //debounce zodat het niet tig keer wordt aangeroepen.\n        this.updateWindowDimensionsDebounce = _.debounce(this.updateWindowDimensions, 200);\n        window.addEventListener('resize', this.updateWindowDimensionsDebounce);\n    }\n\n    componentWillUnmount() {\n        //Unmount de listener als de component sluit\n        window.removeEventListener('resize', this.updateWindowDimensionsDebounce);\n    }\n\n    updateWindowDimensions = () => {\n        //update de hoogte en breedte van huidige pagina\n        this.setState({widthPage: window.innerWidth, heightPage: window.innerHeight});\n    };\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        //Kijk wat de hoogte en breedte zullen zijn van de component zelf.\n        if(this.state.yMenu !== this.div.clientHeight || this.state.xMenu !== this.div.clientWidth){\n            this.setState({\n                yMenu :  this.div.clientHeight,\n                xMenu : this.div.clientWidth\n            });\n        }\n    }\n\n    onClick = (resOnClick) => {\n        resOnClick();\n        this.props.resetCoordinates();\n    };\n\n    render() {\n        let myStyle;\n\n        //als er is geklikt\n        if (this.props.coordinates) {\n            //kijk wat de geklikte coordinaten zijn op het scherm\n            let top = this.props.coordinates.y;\n            let left = this.props.coordinates.x;\n\n            //kijk of de component zal passen op het scherm\n            if ((this.state.widthPage - left) < this.state.xMenu) {\n                //anders verplaats het naar link totdat het wel pasts\n                left = this.state.widthPage - this.state.xMenu;\n            }\n\n            //zelfde met hoogte\n            if ((this.state.heightPage - top) < this.state.yMenu) {\n                top = this.state.heightPage - this.state.yMenu;\n            }\n\n            // - 10 zodat de gebruiker altijd over de component heen hovert als deze geopend wordt\n            myStyle = {\n                position: 'absolute',\n                top: `${top - 10}px`,\n                left: `${left - 10}px`,\n                display: \"block\",\n            };\n        } else {\n            //als iemand niet heeft geklikt laat deze component weg\n            myStyle = {\n                display: \"none\",\n            };\n        }\n\n        //voor elk element crer een optie\n        let elements = this.props.objectsOverLayedOnMap.map(res => {\n            return (<p key={res.head + res.sub + res.subColor} onClick={() => {\n                this.onClick(res.onClick);\n            }}>\n                <b>{res.head} </b>\n                <span\n                    style={{color: this.props.getHexFromColor(res.subColor, true)}}>{res.sub}</span>\n            </p>);\n        });\n\n        //geef de component terug.\n        //als de gebruiker van de component af gaat, laat deze dan verdwijnen. zie onMouseLeave.\n        return (<div style={myStyle}\n                     className=\"contextMenuContainer\"\n                     ref={(div) => {this.div = div}}\n                     onMouseLeave={() => {\n                         this.props.resetCoordinates();\n                     }}\n                     onContextMenu={(e) => {\n                         e.preventDefault();\n                     }}>\n            {elements}\n        </div>)\n    }\n}\n\nexport default ContextMenu;","/**\n * Libs\n */\nimport L from \"leaflet\";\nimport React from 'react';\nimport * as turf from '@turf/turf';\nimport * as inside from \"point-in-geopolygon\";\nimport _ from 'lodash';\n\n/**\n * UI\n */\nimport Routes from './routes/Routes'\nimport {Dropdown, Icon, Search} from 'semantic-ui-react'\nimport NavBar from \"./components/NavBar\";\nimport Loader from \"./components/Loader\";\n\n/**\n * Assets\n */\nimport './App.css';\nimport KadasterImg from './assets/Logo-kadaster.png';\n\n/**\n * Netwerk\n */\nimport *  as Communicator from './network/Communicator';\nimport {Link, matchPath, withRouter} from \"react-router-dom\";\n\n/**\n * Model\n */\nimport ResultatenHouder from './model/ResultatenHouder';\nimport ClickedResultaat from \"./model/ClickedResultaat\";\nimport {DefaultIcon, Icons} from \"./components/Icons\";\nimport ContextMenu from \"./components/ContextMenu\";\nimport ClusterObject from \"./model/ClusterObject\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            searchQuery: \"\",\n            isFetching: false,\n            results: new ResultatenHouder(),\n            updateIng: false,\n            currentSelected: Communicator.getOptions()[0].value,\n            clickedOnLayeredMap: undefined,\n            objectsOverLayedOnMap: []\n        };\n\n        //subscribe aan de resulatatenHouder\n        this.state.results.subscribe(this);\n    }\n\n    /**\n     * Bij comonent did mount de kaart initaliseren en terug naar het hoofdscherm gaan\n     **/\n    componentDidMount() {\n        this.mapInit();\n        this.props.history.push('/');\n    }\n\n    /**\n     * Initeert de kaart.\n     **/\n    mapInit = () => {\n        //opties van de kaart\n        this.map = L.map(\n            'map',\n            {\n                minZoom: 8,\n                center: [52.20936, 5.2],\n                zoom: 8,\n                maxBounds: [\n                    [56, 10],\n                    [49, 0],\n                ]\n            });\n\n        //zet de kaart tile layer aka de brt\n        L.tileLayer('https://geodata.nationaalgeoregister.nl/tiles/service/wmts/brtachtergrondkaart/EPSG:3857/{z}/{x}/{y}.png', {\n            attribution: 'Kaartgegevens &copy; <a href=\"https://www.kadaster.nl/\" target=\"_blank\" rel = \"noreferrer noopener\">Kadaster</a> | <a href=\"https://www.verbeterdekaart.nl\" target=\"_blank\" rel = \"noreferrer noopener\">Verbeter de kaart</a> '\n        }).addTo(this.map);\n\n        //Wanneer je recht klikt op de kaart krijg dan alle locaties terug er om heen.\n        this.map.on('contextmenu', this.handleRightMouseClick);\n\n        //disable the zoom\n        this.map.doubleClickZoom.disable();\n\n        //zet de geojson layer en de functies die worden aangeroepen.\n        //On each feature elke geojson object\n        //point to layer bij elke marker\n        this.geoJsonLayer = L.geoJSON([], {\n            onEachFeature: this.handleGeoJsonLayerDrawing,\n            pointToLayer: this.addMarker,\n            style: this.getStyle\n        }).addTo(this.map);\n\n        //de groep voor de markers\n        this.markerGroup = L.featureGroup().addTo(this.map);\n\n        //dit is voor mobiele applicatie. Als er gesleept wordt sluit dan het context menu.\n        this.map.on('dragstart', () => {\n            if (this.state.clickedOnLayeredMap) {\n                this.setState({clickedOnLayeredMap: undefined});\n            }\n        });\n\n        //versiebeheer\n        console.log(\"version 1.1.0\");\n    };\n\n    /**\n     * Krijg de style voor een bepaalde feature\n     * @param feature\n     * @returns {{color: (string|*)}}\n     */\n    getStyle = (feature) => {\n        if (feature.properties.getColor()) {\n            return {\n                color: this.getHexFromColor(feature.properties.getColor())\n            };\n        }\n    };\n\n    /**\n     * Krijg een hex van een kleur.\n     * @param color\n     * @param text bool of het tekst is of niet\n     * @returns {string|undefined}\n     */\n    getHexFromColor(color, text) {\n        if (color === \"turqoise\") {\n            if (text) {\n                return \"#15a49f\";\n            } else {\n                return \"#3DCCC7\";\n            }\n        } else if (color === \"purple\") {\n            return \"#7A306C\";\n        } else if (color === \"green\") {\n            return \"#489E17\";\n        } else if (color === \"red\") {\n            return \"#BA1200\";\n        } else if (color === \"pink\") {\n            return \"#FFD9CE\";\n        } else if (color === \"blue\") {\n            return \"#1B2CFF\";\n        } else if (color === \"orange\") {\n            return \"#FAA916\";\n        } else if (color === \"yellow\") {\n            if (text) {\n                return \"#FAA916\";\n            } else {\n                return \"#F0F66E\";\n            }\n        } else if (color === \"mediumaquamarine\") {\n            return \"#66CDAA\";\n        } else {\n            if (text) {\n                return \"#000\";\n            } else {\n                return undefined;\n            }\n        }\n    }\n\n    /**\n     * Als je recht klikt op de kaart. Haal resulataten op en laat deze zien.\n     **/\n    handleRightMouseClick = (e) => {\n        let latLong = e.latlng;\n\n        //close pop ups van de kaart\n        this.map.closePopup();\n        this.popup = undefined;\n\n        /**\n         * Kijk of de gebruiker op de ObjectScreen zit\n         */\n        let match = matchPath(this.props.location.pathname, {\n            path: \"/result/:id\",\n            exact: true,\n            strict: true\n        });\n\n        this.state.results.clearAll();\n\n        /**\n         * Als de gebruiker op een object screen zit ga dan terug.\n         */\n        if (match) {\n            this.props.history.goBack();\n        } else if (this.props.location.pathname !== \"/result\") {\n            this.props.history.push(`/result`);\n        }\n\n        this.setState({\n            isFetching: true,\n            searchQuery: \"\"\n        });\n\n        /**\n         * Krijg de bounds en geef deze ook door aan de communicator\n         */\n        let bounds = this.map.getBounds();\n        Communicator.getFromCoordinates(latLong.lat, latLong.lng, bounds.getNorth(), bounds.getWest(), bounds.getSouth(), bounds.getEast(), this.setResFromOutside).then(res => {\n            //bij waiting wacht verander laat het balkje lopen.\n            if(res === \"waiting\"){\n                this.setState({\n                    updateIng : true,\n                    isFetching: false\n                })\n            }else if (res !== undefined && res !== \"error\") {\n                this.state.results.setDoubleResults(res);\n                this.setState({\n                    isFetching: false\n                })\n            }\n        });\n    };\n\n    /**\n     * De functie die de kaart aanroept elke keer als deze een marker wilt toevoegen.\n     **/\n    addMarker = (feature, latlng) => {\n        //maake en marker aan\n        let marker = L.marker(latlng,);\n\n        //dit is de pop up en de html die tevoorschijn komt.\n        marker.bindPopup(`<div class = \"marker\">\n                    <b>${feature.properties.getNaam()}</b>\n                    <br/>\n                    <span class = \"subTextMarker\" style=\"color:${this.getHexFromColor(feature.properties.getColor(), true)};\">${feature.properties.getType()}</span><div>\n            `, {\n            autoPan: false,\n            closeButton: false\n        });\n\n        //methode die worden aangeroepen om de marker te openen\n        let onHover = function (e) {\n            this.openPopup();\n            this.setIcon(Icons);\n        }.bind(marker);\n\n        //methode die wordt aangeroepen om de marker te sluiten\n        let onHoverOff = function (e) {\n            this.closePopup();\n            this.setIcon(DefaultIcon);\n        }.bind(marker);\n\n        //wanneer je over de marker gaat laat de pop up zien\n        marker.on('mouseover', onHover);\n        //geef deze ook aan de feature zodat wanneer je over de resultaten lijst gaat het ook op de kaart te zien is.\n        feature.properties._setOnHover(onHover);\n\n        //wanneer je er van af gaat laat het weg\n        marker.on('mouseout', onHoverOff);\n        feature.properties._setOnHoverOff(onHoverOff);\n\n        //wanneer je er op klikt ga naar die marker\n        marker.on('click', () => {\n            this.onClickItem(feature.properties)\n        });\n\n        return marker;\n    };\n\n    /**\n     * Krijg alle geojson objecten die in de resultatenhouder zit waar dit punt in zit.\n     * @param lng\n     * @param lat\n     * @returns {*[]}\n     */\n    getAllGeoJsonObjectContainingPoint = (lng, lat) => {\n        let res;\n\n        if (this.state.results.getClickedResult()) {\n            res = [this.state.results.getClickedResult().getAsFeature()];\n        } else if (this.state.results.getClickedCluster()) {\n            res = this.state.results.getClickedCluster().getValuesAsFeatures();\n        } else if (this.state.results.getRightClickedRes().length > 0) {\n            res = this.state.results.getClickedAllObjectsAsFeature();\n        } else {\n            res = this.state.results.getSearchedAllObjectsAsFeature();\n        }\n\n        //als het geen polygoon of multipolygoon is werkt het ook niet dus geen reden om deze mee te nemen.\n        res = res.filter(res => {\n                return res.geometry.type === \"MultiPolygon\" || res.geometry.type === \"Polygon\"\n            }\n        );\n\n        //filter, als er -1 uitkomt bevindt het punt zich niet in de polygoon.\n        return res.filter(res => {\n            let col = {type: \"FeatureCollection\", features: [res]};\n            return inside.feature(col, [lng, lat]) !== -1;\n        });\n    };\n\n    /**\n     * Wordt aangeroepen elke keer als er een geojson object wordt getekend.\n     **/\n    handleGeoJsonLayerDrawing = (feature, layer) => {\n        //de punt wordt al afgehandeld door addMarker\n        if (feature.geometry.type !== 'Point') {\n            //vindt eerst de center\n            let latLong = this.getCenterGeoJson(feature);\n\n            //op deze center voeg een marker toe\n            this.addMarker(feature, latLong).addTo(this.markerGroup);\n\n            //laat de pop up zien als je erover gaat\n            layer.on('mouseover', (e) => {\n                //krijg eerst alle geojson objecten die dit punt bevatten.\n                let contains = this.getAllGeoJsonObjectContainingPoint(e.latlng.lng, e.latlng.lat);\n\n                //hierna maak de popup content aan met html\n                let content = contains.map(res => {\n                    return `<b>${res.properties.getNaam()}</b><br/>\n                    <span class=\"subTextMarker\" style=\"color:${this.getHexFromColor(res.properties.getColor(), true)};\" >${res.properties.getType()} </span>`;\n                }).reverse().join(`<br/>`);\n\n                content = `<div class=\"popUpMouseOver\">${content}<div>`;\n\n                //als er geen dingen zijn die dit punt bevatten sluit dan de popup\n                if (contains.length < 1) {\n                    this.map.closePopup();\n                    this.popup = undefined;\n                } else if (!this.popup) {\n                    //als er nog geen popup open is open dan deze.\n                    this.popup = L.popup({\n                        autoPan: false,\n                        closeButton: false\n                    })\n                        .setLatLng(e.latlng)\n                        .setContent(content)\n                        .openOn(this.map);\n                }\n            });\n\n            //dit is de functie die wordt aangeroepen als je over een object heen gaat met je muis.\n            let mouseOverFunction = (e) => {\n                let contains = this.getAllGeoJsonObjectContainingPoint(e.latlng.lng, e.latlng.lat);\n\n                let content = contains.map(res => {\n                    return `<b>${res.properties.getNaam()}</b><br/>\n                    <span class=\"subTextMarker\" style=\"color:${this.getHexFromColor(res.properties.getColor(), true)};\" >${res.properties.getType()} </span>`;\n                }).reverse().join(`<br/>`);\n\n                if (contains.length < 1) {\n                    this.map.closePopup();\n                    this.popup = undefined;\n                } else if (this.popup) {\n                    this.popup.setLatLng(e.latlng);\n\n                    content = `<div class=\"popUpMouseOver\">${content}<div>`;\n\n                    if (content !== this.popup.getContent()) {\n                        this.popup.setContent(content);\n                    }\n                } else {\n                    this.popup = L.popup({\n                        autoPan: false,\n                        closeButton: false\n                    })\n                        .setLatLng(e.latlng)\n                        .setContent(content)\n                        .openOn(this.map);\n                }\n            };\n\n            //Je kan ervoor kiezen om deze functionalitiet te throttelen.\n            layer.on('mousemove', _.throttle(mouseOverFunction, 0));\n\n            //sluit de pop up als je er van af gaat\n            layer.on('mouseout', (e) => {\n                this.map.closePopup();\n                this.popup = undefined;\n            });\n\n            //als je er op klikt ga er dan naartoe\n            layer.on('click', (e) => {\n                //check of er meerdere lagen zijn\n                let contains = this.getAllGeoJsonObjectContainingPoint(e.latlng.lng, e.latlng.lat);\n\n                //als er maar n laag is\n                if (contains.length < 2) {\n                    this.onClickItem(feature.properties)\n                } else {\n                    //agrageer de opties en geef deze aan het context menu\n                    let options = contains.reverse().map(res => {\n                        let func = () => {\n                            this.onClickItem(res.properties);\n                        };\n\n                        return {\n                            head: res.properties.getNaam(),\n                            sub: res.properties.getType(),\n                            subColor: res.properties.getColor(),\n                            onClick: func\n                        }\n                    });\n\n                    this.setState({\n                        clickedOnLayeredMap: {x: e.originalEvent.pageX, y: e.originalEvent.pageY},\n                        objectsOverLayedOnMap: options\n                    });\n                }\n            });\n        }\n    };\n\n    /**\n     * Deze methode kan worden aangeroepen om het context menu te laten verdrwijnen.\n     */\n    resetClickedOnLayeredMap = () => {\n        this.setState({\n            clickedOnLayeredMap: undefined\n        });\n    };\n\n    /**\n     * Wanneer iemand op een resultaat klikt voer dan deze methode uit.\n     **/\n    onClickItem = (res) => {\n        //als het een cluster object is, laat dan dit clusterobject zien.\n        if (res instanceof ClusterObject) {\n            this.state.results.setClickedCluster(res);\n            this.props.history.push(`/result/${res.getNaam()}`);\n        } else {\n            //maak een nieuwe clickedresultaat\n            let clickedRes = new ClickedResultaat(res);\n\n            this.setState({\n                clickedOnLayeredMap: undefined\n            });\n\n            //zet in de resultatenhouder de clickedresultaat.\n            this.state.results.setClickedResult(clickedRes);\n\n            //krijg de center van de plek waar je naartoe wilt.\n            let center = this.getCenterGeoJson(res.getGeoJson());\n            let zoom = this.map.getZoom();\n\n            //als de gebruiker ingezoomt is, zoom dan niet uit.\n            if (zoom < 10) {\n                zoom = 10;\n            }\n\n            //zet de view.\n            this.map.setView(center, zoom);\n\n            //kijk nog even welke url je moet pushen.\n            if (this.state.results.getClickedCluster()) {\n                this.props.history.push(`/result/${res.getNaam()}/${res.getNaam()}`);\n            } else {\n                this.props.history.push(`/result/${res.getNaam()}`);\n            }\n        }\n    };\n\n    /**\n     * Krijg de center van een geojson object.\n     **/\n    getCenterGeoJson = (geojson) => {\n        //kijk eerst naar de center\n        let centroid = turf.center(geojson);\n\n        //maak er een geojson en feature van.\n        let geoJsonFeature = geojson.geometry ? geojson : {type: 'Feature', geometry: geojson};\n        geojson = geojson.geometry ? geojson.geometry :  geojson;\n\n        //Multipolygon werkt niet met turf.booleanContains.\n        if(geojson.type !== \"MultiPolygon\") {\n            //als deze niet in het geojson object ligt, gebruik dan de centroid\n            if (!turf.booleanContains(geoJsonFeature, centroid)) {\n                centroid = turf.centroid(geoJsonFeature);\n            }\n\n            //anders gebruik point on feature\n            if(!turf.booleanContains(geojson, centroid)){\n                centroid = turf.pointOnFeature(geojson);\n            }\n        }else{\n            //gebruik inside voor multipolygon om te controlleren.\n            let lon = centroid.geometry.coordinates[0];\n            let lat = centroid.geometry.coordinates[1];\n            let col = {type: \"FeatureCollection\", features: [geoJsonFeature]};\n            let isInside = inside.feature(col, [lon, lat]) !== -1;\n\n            if (!isInside) {\n                centroid = turf.centroid(geojson);\n            }\n\n            lon = centroid.geometry.coordinates[0];\n            lat = centroid.geometry.coordinates[1];\n            col = {type: \"FeatureCollection\", features: [geoJsonFeature]};\n            isInside = inside.feature(col, [lon, lat]) !== -1;\n\n            if(!isInside){\n                centroid = turf.pointOnFeature(geojson);\n            }\n        }\n\n        //krijg de lat en long\n        let lon = centroid.geometry.coordinates[0];\n        let lat = centroid.geometry.coordinates[1];\n\n        return [lat, lon];\n    };\n\n    /**\n     * Wordt aangeroepen wanneer er iets wordt getype\n     **/\n    onSearchChange = (e, data) => {\n        let text = data.value;\n\n        this.map.closePopup();\n        this.popup = undefined;\n\n        //als de text iets heef\n        if (text) {\n            //zet dan eerst de state\n            this.setState({\n                searchQuery: text,\n                isFetching: true\n            });\n\n            //haal vorige resultaten weg\n            this.state.results.clearClickedResult();\n            this.state.results.clearDoubleResults();\n            this.state.results.clearClickedCluster();\n\n            //debounce zodat het pas wordt uitgevoerd wanneer de gebuiker stopt met typen.\n            if (!this.debounceDoSearch) {\n                this.debounceDoSearch = _.debounce(this.doSearch, 500);\n            }\n\n            //roep de methode aan die de zoek functie aanroept\n            this.debounceDoSearch(text);\n\n            //Als je op het hoofscherm bent ga dan naar de result screen\n            if (this.props.location.pathname === \"/\") {\n                this.props.history.push('/result');\n            }\n        } else {\n            //als de zoekbar text leeg is\n            this.setState({\n                searchQuery: \"\",\n                isFetching: false\n            });\n\n            //verwijder alle resultaten\n            this.state.results.clearAll();\n\n            let match2 = matchPath(this.props.location.pathname, {\n                path: \"/result/:id/:idd\",\n                exact: true,\n                strict: true\n            });\n\n            //ga terug naar het hoofdscherm\n            if (this.props.location.pathname === \"/result\") {\n                this.props.history.goBack();\n            } else if (match2) {\n                this.props.history.go(-3);\n            } else if (this.props.location.pathname !== '/') {\n                this.props.history.go(-2);\n            }\n        }\n\n        //centreer de kaart weer.\n        if (this.map) {\n            this.map.setView([52.20936, 5.2], 8);\n        }\n    };\n\n    /**\n     * Roept de communicator aan en haalt de resultaten op.\n     **/\n    doSearch = (text) => {\n        /**\n         * Roep de getMatch functie aan van de communicator\n         **/\n        Communicator.getMatch(text.trim(), this.state.currentSelected, this.setResFromOutside).then(res => {\n            //als je een error terug krijgt, dan betekent dat je wel een antwoord hebt maar dat het niet werkt.\n\n            //als er waiting terug komt wacht dan.\n            if(res === \"waiting\"){\n                this.setState({\n                    updateIng : true,\n                    isFetching: false\n                })\n                //anders laat niets zien.\n            }else if (res === \"error\") {\n                this.setState({\n                    isFetching: false\n                })\n\n                //als je undefined terug krijgt betekent het dat het een oude search query is.\n                //Dus als het niet undefined is, betekent dat het het huidige search query is.\n            } else if (res !== undefined) {\n                this.setState({\n                    isFetching: false\n                });\n                this.state.results.setResults(res);\n            }\n        });\n    };\n\n    /**\n     * Wanneer er op het kruisje in de search bar wordt geklikt.\n     **/\n    handleDeleteClick = () => {\n        this.onSearchChange({}, {value: \"\"});\n    };\n\n    /**\n     * Wanneer er op de terug knop wordt geklikt in de applicatie aka <-- terug.\n     **/\n    handleOnBackButtonClick = () => {\n        /**\n         * Kijk of je op een resultaat scherm bent\n         */\n        let match = matchPath(this.props.location.pathname, {\n            path: \"/result/:id\",\n            exact: true,\n            strict: true\n        });\n\n        /**\n         * Kijk of je bij een cluster res bent.\n         */\n        let match2 = matchPath(this.props.location.pathname, {\n            path: \"/result/:id/:idd\",\n            exact: true,\n            strict: true\n        });\n\n        if (this.props.location.pathname === \"/result\") {\n            //Als je op de result screen bent ga dan terug naar het hoofdscherm\n            if (this.state.results.getClickedCluster()) {\n                this.state.results.clearClickedCluster();\n            } else {\n                this.handleDeleteClick();\n            }\n        } else if (match) {\n            //Als je op een geklikte resultaat scherm bent ga dan terug naar de result scherm\n            this.props.history.goBack();\n\n            this.state.results.clearClickedResult();\n            this.state.results.clearClickedCluster();\n        } else if (match2) {\n            //ga eerst een pagina terug\n            this.props.history.goBack();\n            this.state.results.clearClickedResult();\n        }\n    };\n\n    /**\n     * Deze methode wordt aangeropen elke keer als de resultaten houder wordt geupdate.\n     */\n    update = () => {\n        let results = this.state.results;\n\n        this.setState({\n            results: results\n        });\n\n        /**\n         * Soms wordt de update functie iets te vaak angereoepen dus debounce het.\n         * Ik weet niet meer waarom maarja.\n         */\n        if (!this.updateMapDebounce) {\n            this.updateMapDebounce = _.debounce(this.updateMap, 200);\n        }\n\n        this.updateMapDebounce(results);\n    };\n\n    /**\n     * Wordt aangeroepen als er op het tandwieltje wordt geklikt.\n     * @param e\n     * @param v\n     */\n    dropDownSelector = (e, v) => {\n        //als er een andere backend wordt geselecteerd.\n        if (this.state.currentSelected !== v.value) {\n            this.setState({\n                currentSelected: v.value,\n                isFetching: false\n            }, () => {\n                this.handleDeleteClick();\n            })\n        }\n    };\n\n    /**\n     * Met deze methode kan je de resultatenhouder van buitenaf aanroepen.\n     * @param res\n     * @param isRightClick\n     */\n    setResFromOutside = (res, isRightClick) => {\n        this.setState({\n            updateIng : false\n        });\n\n        if(this.props.history.location.pathname !== \"/\"){\n            if(isRightClick){\n                this.state.results.setDoubleResults(res);\n            }else{\n                this.state.results.setResults(res)\n            }\n        }\n    };\n\n    /**\n     * Update de kaart.\n     **/\n    updateMap = () => {\n        let results = this.state.results;\n\n        //haal eerst alle marker weg\n        this.map.closePopup();\n        this.popup = undefined;\n        this.markerGroup.clearLayers();\n        this.geoJsonLayer.clearLayers();\n\n        //als er een geklikt resultaat is, render dan alleen deze\n        if (this.state.results.getClickedResult()) {\n            let feature = this.state.results.getClickedResult().getAsFeature();\n            this.geoJsonLayer.addData(feature);\n        } else if (this.state.results.getClickedCluster()) {\n            let feature = this.state.results.getClickedCluster().getValuesAsFeatures();\n            this.geoJsonLayer.addData(feature);\n        } else if (this.state.results.getRightClickedRes().length > 0) {\n            let geoJsonResults = results.getClickedAllObjectsAsFeature();\n            this.geoJsonLayer.addData(geoJsonResults);\n        } else {\n            //anders render alle opgehaalde resultaten.\n            if (this.state.searchQuery) {\n                let geoJsonResults = results.getSearchedAllObjectsAsFeature();\n                this.geoJsonLayer.addData(geoJsonResults);\n            }\n        }\n    };\n\n    /**\n     * Wordt aangeroepen wanneer iemand op de zoekbalk klikt.\n     */\n    onFocus = () => {\n        let match2 = matchPath(this.props.location.pathname, {\n            path: \"/result/:id/:idd\",\n            exact: true,\n            strict: true\n        });\n\n        let match = matchPath(this.props.location.pathname, {\n            path: \"/result/:id\",\n            exact: true,\n            strict: true\n        });\n\n        if (this.state.results.getRightClickedRes().length > 0) {\n            this.handleDeleteClick();\n        } else if (match2) {\n            this.state.results.clearClickedResult();\n            this.state.results.clearClickedCluster();\n            this.props.history.go(-2);\n        } else if (match && this.state.results.getClickedCluster()) {\n            this.handleOnBackButtonClick();\n        } else if (this.state.results.getClickedResult()) {\n            this.handleOnBackButtonClick();\n        }\n    };\n\n    /**\n     * Krijg het aantal zoekresultaten\n     * @returns {string}\n     */\n    getZoekResultatenAantal = () => {\n        let aantalZoekResultaten;\n\n        if (this.state.results.getClickedResult()) {\n\n        } else if (this.state.results.getClickedCluster()) {\n            aantalZoekResultaten = this.state.results.getClickedCluster().getValues().length;\n        } else if (this.state.results.getRightClickedRes().length > 0) {\n            aantalZoekResultaten = this.state.results.getRightClickedRes().length;\n        } else {\n            aantalZoekResultaten = this.state.results.getResults().length;\n        }\n\n        if (aantalZoekResultaten > 989) {\n            aantalZoekResultaten = 900 + \"+\";\n        }\n\n        return aantalZoekResultaten;\n    };\n\n    render() {\n        let aantalZoekResultaten = this.getZoekResultatenAantal();\n\n        let gearIcon;\n\n        //dit is de tandwiel links onder in..\n        const options = Communicator.getOptions();\n        if (options.length > 1) {\n            gearIcon = (<Dropdown\n                className=\"cogIcon\"\n                icon='cog'\n                upward={true}\n            >\n                <Dropdown.Menu>\n                    <Dropdown.Header\n                        content=\"Selecteer end-point\"\n                    />\n                    <Dropdown.Divider\n                    />\n                    {options.map((option) => (\n                        <Dropdown.Item\n                            className=\"dropDownItem\"\n                            key={option.value} {...option}\n                            active={this.state.currentSelected === option.value}\n                            onClick={this.dropDownSelector}\n                        />\n                    ))}\n                </Dropdown.Menu>\n            </Dropdown>);\n        }\n\n        let icon;\n        let className;\n\n        if (this.state.searchQuery || this.state.results.getRightClickedRes().length > 0) {\n            icon = <Icon name='delete' link onClick={this.handleDeleteClick}/>;\n        } else {\n            icon = <Icon name='search'/>;\n        }\n\n        if (!this.state.updateIng) {\n            className = \"mapHolder\";\n        } else {\n            className = \"mapHolderLoading\"\n        }\n\n        return (\n            <section className=\"App\">\n                <div className=\"brtInfo\">\n                    <Link to=\"/\" onClick={() => {\n                        this.handleDeleteClick();\n                    }}>\n                        <div className=\"header\">\n                            <h1>Topo Namenzoeker</h1><img src={KadasterImg} alt=\"kadaster logo\"/>\n                        </div>\n                    </Link>\n                    <div className=\"searchBar\">\n                        <Search input={{fluid: true}}\n                                value={this.state.results.getRightClickedRes().length > 1 ? \"[ Kaartresultaten worden getoond ]\" : this.state.searchQuery}\n                                noResultsMessage=\"Geen resultaat\"\n                                icon={icon}\n                                onSearchChange={this.onSearchChange}\n                                open={false}\n                                onFocus={this.onFocus}\n                        />\n                    </div>\n                    <div className=\"resultsContainer\">\n                        <NavBar\n                            loading={this.state.isFetching}\n                            onBack={this.handleOnBackButtonClick}\n                            aantalZoekResultaten={aantalZoekResultaten}\n                        />\n                        <div className=\"loaderDiv\">\n                            <Loader\n                                loading={this.state.isFetching}\n                            />\n                        </div>\n                        <div className=\"resultPartContainer\">\n                            <Routes\n                                res={this.state.results}\n                                clickedResult={this.state.results.getClickedResult()}\n                                onClickItem={this.onClickItem}\n                                getHexFromColor={this.getHexFromColor}\n                            />\n                        </div>\n                    </div>\n                    <div className=\"footer\">\n                        {gearIcon}\n                        <a href=\"https://zakelijk.kadaster.nl/brt\" target=\"_blank\" rel=\"noreferrer noopener\">Lees meer\n                            over de Basisregistratie Topografie (BRT)</a>\n                    </div>\n                </div>\n                <div className={className} onContextMenu={(e) => e.preventDefault()}>\n                    <Loader\n                        loading={this.state.updateIng}\n                    />\n                    <div id=\"map\"/>\n                </div>\n                <ContextMenu\n                    coordinates={this.state.clickedOnLayeredMap}\n                    resetCoordinates={this.resetClickedOnLayeredMap}\n                    objectsOverLayedOnMap={this.state.objectsOverLayedOnMap}\n                    getHexFromColor={this.getHexFromColor}\n                />\n            </section>\n        )\n    }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <HashRouter>\n        <App/>\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}